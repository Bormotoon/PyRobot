/*
 * @file Field.css
 * @description Стили для компонента игрового поля симулятора робота.
 * Этот файл задает внешний вид контейнера игрового поля, canvas для отображения поля,
 * а также стили для карточки статуса с подсказками под полем.
 */

/* Контейнер области поля */
.field-area {
    /* Элемент занимает 50% доступного пространства с возможностью расширения и сжатия */
    flex: 2 1 50%;
    /* Определяет порядок отображения в flex-контейнере (отображается вторым) */
    order: 2;

    /* Внешний и внутренний отступы для создания пространства вокруг и внутри контейнера */
    margin: var(--spacing);
    padding: var(--spacing);

    /* Использование flex-контейнера для вертикального расположения содержимого */
    display: flex;
    flex-direction: column;
    /* Центрирование содержимого по вертикали и горизонтали */
    justify-content: center;
    align-items: center;
    /* Минимальная высота установлена в 0 для корректного масштабирования */
    min-height: 0;
    /* Корректный расчет размеров с учетом внутренних отступов и границ */
    box-sizing: border-box;

    /* Фон контейнера, скругление углов и тень для визуального выделения */
    background: var(--background-color-card);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    /* Повторное задание отступов для обеспечения единообразного вида */
    margin: var(--spacing);
    padding: var(--spacing);
}

/* Стили для самого canvas, отображающего игровое поле */
.field-area canvas {
    /* Занимает всю ширину контейнера */
    width: 100%;
    /* Соотношение сторон 1:1 для квадратного поля */
    aspect-ratio: 1 / 1;
    /* Фоновый цвет canvas */
    background-color: var(--background-color-canvas);
    /* Плавное изменение трансформации (например, при масштабировании) */
    transition: transform 0.2s;
    /* Скругление углов canvas */
    border-radius: var(--border-radius);
    /* Режим заполнения объекта: содержимое масштабируется так, чтобы вписаться в область */
    object-fit: contain;
    /* Запрещает сжатие canvas при уменьшении размера контейнера */
    flex-shrink: 0;
    /* Максимальная высота canvas не превышает доступное пространство */
    max-height: 100%;
    /* Корректный расчет размеров с учетом внутренних отступов и границ */
    box-sizing: border-box;
}

/* Изменение фона canvas, когда активен режим редактирования */
.field-area canvas.edit-mode {
    background-color: var(--background-color-edit-mode);
}

/* Контейнер для canvas, расположенный внутри карточки поля */
.field-card {
    /* Элемент занимает все доступное пространство внутри родителя */
    flex: 1;
    /* Центрирование содержимого по горизонтали и вертикали */
    display: flex;
    justify-content: center;
    align-items: center;
    /* Занимает всю ширину контейнера */
    width: 100%;
}

/* Настройки для canvas внутри .field-card: сохраняет квадратное соотношение сторон */
.field-card canvas {
    width: 100%;
    height: auto;
    max-height: 100%;
    aspect-ratio: 1 / 1;
    /* Скругление углов для эстетичного вида */
    border-radius: var(--border-radius);
    /* Содержимое масштабируется для соответствия контейнеру */
    object-fit: contain;
}

/* Стили для текста статуса и подсказок, отображаемых под полем */
.status-text {
    /* Центрирование текста по горизонтали и вертикали */
    display: flex;
    justify-content: center;
    align-items: center;

    /* Учитывать символы переноса строки (\n) */
    white-space: pre-line;
    /* Минимальная высота, чтобы область статуса не изменялась резко при малом объеме текста */
    min-height: 80px;
    /* Максимальная высота для ограничения размера области статуса */
    max-height: 120px;
    /* Вертикальная прокрутка, если текст превышает максимальную высоту */
    overflow-y: auto;
    /* Корректный расчет размеров с учетом внутренних отступов и границ */
    box-sizing: border-box;
    /* Внутренний отступ для удобочитаемости текста */
    padding: var(--spacing);
    /* Скругление углов для текстовой карточки */
    border-radius: var(--small-border-radius);
    /* Светлый фон для контраста с текстом */
    background: #fefefe;
    /* Горизонтальное центрирование текста */
    text-align: center;
}
