# Документация по языку программирования Кумир

Язык программирования Кумир предназначен для обучения основам алгоритмизации и программирования. Документация описывает структуру языка, его синтаксис, команды, типы данных, работу с файлами и строками, а также встроенные алгоритмы. Все примеры и пояснения сохранены для полноты.

## 1. Структура программы

### 1.1. Общие сведения

Основная структурная единица языка Кумир — **алгоритм**. Программа состоит из нескольких алгоритмов, следующих друг за другом. Перед первым алгоритмом может быть **вступление** — последовательность команд, таких как комментарии, описания общих величин или присваивания начальных значений.

Алгоритмы должны располагаться вплотную, между ними допускаются только пустые строки или комментарии.

### 1.2. Выполнение программы

Выполнение программы начинается с выполнения вступления (если оно есть), затем выполняется первый алгоритм (основной). Остальные алгоритмы вызываются из основного или других алгоритмов.

**Пример программы со вступлением, основным и вспомогательным алгоритмом:**

```kumir
| Это вступление
цел длина, ширина
длина := 10
ширина := 15
| Это - основной алгоритм.
| У него может не быть имени
алг
нач
  вывод "Площадь равна ", площадь
кон
| Это - вспомогательный алгоритм.
| При выполнении он вызывается из основного.
| У вспомогательного алгоритма обязательно
| должно быть имя и могут быть параметры.
алг цел площадь
нач
  знач := длина*ширина
кон
```

**Пример программы с несколькими алгоритмами:**

```kumir
| Это вступление
вещ длина, ширина, масса
длина := 10
ширина := 15
алг
нач
  вещ S
  S := площадь
  вещ плотность, масса
  плотность := 6.8 | г/см**2
  найти массу пластинки(плотность, S, масса)
  вывод "Масса пластинки равна ", масса
кон

| Это - вспомогательный алгоритм.
алг вещ площадь
нач
  знач := длина*ширина
кон

| Это - еще один вспомогательный алгоритм.
алг найти массу пластинки(арг вещ p, S, рез вещ m)
нач
  m := p*S
кон
```

### 1.3. Описание алгоритма

#### 1.3.1. Общий вид

Алгоритм в Кумире записывается следующим образом:

```kumir
алг тип_алгоритма имя_алгоритма (описание_параметров)
  дано условие_применимости_алгоритма
  надо цель_выполнения_алгоритма
нач
  последовательность команд
кон
```

Алгоритм состоит из:

- **Заголовка**: часть до слова `нач`.
- **Тела**: команды между `нач` и `кон`.

#### 1.3.2. Алгоритмы-процедуры и алгоритмы-функции

Алгоритмы делятся на:

- **Алгоритмы-процедуры**: не возвращают значения.
- **Алгоритмы-функции**: возвращают значение, указанное через служебную величину `знач`.

**Отличия:**

1. Для алгоритма-функции указывается тип возвращаемого значения (например, `цел`, `вещ`) перед именем алгоритма. Для процедур тип опускается.
2. В теле функции используется `знач` для записи результата. В процедурах `знач` использовать нельзя.

**Пример алгоритма-процедуры:**

```kumir
алг гипотенуза (вещ a, b, рез вещ c)
  дано a>=0 и b>=0 | длины катетов треугольника
  надо | c = длинa гипотенузы этого треугольника
нач
  c := sqrt( a**2 + b**2 )
кон
```

**Пример алгоритма-функции:**

```kumir
алг вещ площадь (вещ a, b, c)
  дано a>=0 и b>=0 и c>=0 | длины сторон треугольника
  надо | значение функции равно площади этого треугольника
нач
  вещ p | полупериметр
  p := (a+b+c)/2
  знач := sqrt(p*(p-a)*(p-b)*(p-c))
кон
```

#### 1.3.3. Параметры алгоритма

Параметры указываются в круглых скобках после имени алгоритма. Они делятся на:

- `арг`: параметры-аргументы (входные данные).
- `рез`: параметры-результаты (выходные данные).
- `аргрез`: параметры, которые являются одновременно аргументами и результатами.

**Правила:**

- После `арг`, `рез`, `аргрез` указываются типы и имена величин, разделенные запятыми.
- Если служебные слова отсутствуют, параметры считаются аргументами (`арг`).
- Нельзя изменять значения параметров-аргументов (`арг`) в теле алгоритма.
- Параметры-результаты (`рез`) имеют неопределенные значения в начале выполнения.

**Пример:**

```kumir
алг
нач
  вещ число
  цел целое, сотые
  лит запись
  число := 3.14
  тест(целое, сотые, запись, число)
кон

алг тест (рез цел m, n, лит т, арг вещ y)
нач
  вещ r
  m := int(y)
  r := (y - m)*100
  n := int(r)
  т := вещ_в_лит(y)
кон
```

### 1.4. Команды и строки

Каждая простая команда и ключевое слово обычно записываются на отдельной строке. Для компактности можно:

- Использовать точку с запятой (`;`) вместо переноса строки.
- Пропускать переносы строк перед/после определенных ключевых слов (неявные переносы).

**Пример с точкой с запятой:**

```kumir
| Программа 1 — сжатое написание
алг
нач
  цел а; вещ в
  а := 5; в := 0.1
кон
| Программа 2 — полное написание
алг
нач
  цел а
  вещ в
  а := 5
  в := 0.1
кон
```

**Неявные переносы строк** вставляются:

- Перед словами: `все`, `кц`, `кц_при`.
- После слов: `нач`, `выбор`, `нц` (в цикле `нц-кц`), `раз`.
- Перед и после слов: `то`, `иначе`, `при`.
- Перед `при` и после двоеточия в строке `при`.

**Пример с неявными переносами:**

```kumir
алг
нач цел знак, вещ модуль
  вещ щ
  ввод щ
  модуль :=0; знак := 0
  если щ > 0 то
    модуль :=щ; знак := 1
  все
  если щ < 0 то модуль :=щ; знак := 1 все
кон
```

### 1.5. Комментарии

Комментарии начинаются с символа `|` и предназначены для пояснений. Они игнорируются при выполнении программы.

**Пример:**

```kumir
алг
  | Это алгоритм вычисления суммы двух чисел
нач
  цел а, б | объявляем величины
  ввод а, б | вводим значения с клавиатуры
  вывод а+б | посчитаем сумму чисел
кон
```

**Документрующие комментарии** начинаются с `#` и располагаются между `алг` и `нач`. Они описывают алгоритм в целом.

## 2. Простые команды

### 2.1. Присваивание

Команда присваивания изменяет значения переменных или элементов таблиц. Формат:

```
ВЕЛИЧИНА := ВЫРАЖЕНИЕ
```

- `ВЕЛИЧИНА`: имя простой величины или элемент таблицы.
- `ВЫРАЖЕНИЕ`: составлено из величин, констант, вызовов функций и операций.
- Тип выражения должен соответствовать типу величины.

**Пример:**

```kumir
n := 0
m := n
m := m+1
m := 2*длин(t)+div(n,2)
c := (x+y)/2
площадь:=a*b*sin(C)/2
d:=b**2-4*a*c
x[1]:=(-b+sqrt(d))/(2*a)
a[i]:=2*a[i-2]+a[i-1]
b[i,j]:=-b[j,i]
```

### 2.2. Контроль выполнения

#### 2.2.1. Команды с условиями

Команды `утв`, `дано`, `надо` проверяют логическое выражение:

- Формат: `утв ЛОГ_ВЫРАЖЕНИЕ`, `дано ЛОГ_ВЫРАЖЕНИЕ`, `надо ЛОГ_ВЫРАЖЕНИЕ`.
- Если условие ложно (`нет`), выполнение останавливается с ошибкой.
- Если условие истинно (`да`), выполнение продолжается.

**Особенности:**

- `дано`: проверяет условие в начале алгоритма.
- `надо`: проверяет в конце.
- `утв`: проверяет в процессе выполнения.

**Пример использования `дано` и `надо`:**

```kumir
алг абс (рез вещ х)
дано х<=0
надо х>=0
нач
  х := -х
кон
```

**Пример использования `утв`:**

```kumir
алг вещ кв (вещ х)
нач
  вещ к
  к := х*х
  утв к>=0
  знач := к
кон
```

#### 2.2.2. Команды-действия

- `пауза`: приостанавливает выполнение программы (аналог точки остановки).
- `стоп`: завершает выполнение программы (аналог пункта меню «Остановить выполнение»).

### 2.3. Ввод и вывод

#### 2.3.1. Вывод

Формат:

```kumir
вывод выражение-1, ... , выражение-N
```

или

```kumir
вывод величина-файлового-типа, выражение-1, ... , выражение-N
```

- Выражения: арифметические, логические, текстовые или `нс` (переход на новую строку).
- Если указана величина типа `файл`, вывод идет в файл, иначе — на экран.

**Пример вывода на экран:**

```kumir
алг
нач
  цел а
  а := 3
  вещ б
  б := 1.3
  нц 5 раз
    вывод а, " ", б, "Привет!", нс
  кц
кон
```

**Результат:**

```
3 1.3Привет!
3 1.3Привет!
3 1.3Привет!
3 1.3Привет!
3 1.3Привет!
```

**Пример вывода в файл:**

```kumir
использовать Файлы
алг
нач
  файл ф
  ф := открыть на запись("test.txt")
  цел а
  а := 3
  вещ б
  б := 1.3
  нц 5 раз
    вывод ф, а, " ", б, "Привет!", нс
  кц
  закрыть(ф)
кон
```

**Содержимое файла test.txt:**

```
3 1.3Привет!
3 1.3Привет!
3 1.3Привет!
3 1.3Привет!
3 1.3Привет!
```

#### 2.3.2. Ввод

Формат:

```kumir
ввод выражение-1, ... , выражение-N
```

или

```kumir
ввод величина-файлового-типа, выражение-1, ... , выражение-N
```

- Без файловой величины: ввод с клавиатуры, значения разделяются пробелами, завершение — Enter.
- С файловой величиной: чтение из файла.
- Если используется `нс`, значения разделяются символом новой строки (Enter), а значения, разделенные пробелом, могут быть потеряны.

**Пример использования `нс`:**

```kumir
алг
 | использование нс в качестве параметра команды ввод
нач
  вещ а, б
  ввод а, нс, б
  вывод а, нс, б
кон
```

**Входные данные:**

```
121 125
2
```

**Вывод:**

```
121
2
```

*Примечание*: Число `125` теряется, так как разделителем является новая строка.

### 2.4. Вызов алгоритма

Вызов алгоритма-процедуры:

```kumir
имя алгоритма-процедуры
```

или

```kumir
имя алгоритма-процедуры(список параметров вызова)
```

**Пример без параметров:**

```kumir
алг
нач
  подпрограмма
кон

алг подпрограмма
нач
  вывод "Мы в подпрограмме", нс
кон
```

**Пример с параметрами:**

```kumir
алг
нач
  сумма(2.4, 7.6)
кон
алг сумма(вещ а, вещ б)
нач
  вывод "Сумма = ", а+б, нс
кон
```

### 2.5. Выход

Команда `выход` завершает выполнение цикла или алгоритма:

- Внутри цикла: переходит к первой команде после цикла.
- Во вложенных циклах: завершает самый внутренний цикл.
- Вне цикла: завершает алгоритм.

**Пример:**

```kumir
алг
нач
  нц
    нц
      вывод "–2–", нс
      выход
    кц
    вывод "–1–", нс
    выход
  кц
  вывод "–0–", нс
  выход
  вывод "–F–", нс
кон
```

**Вывод:**

```
–2–
–1–
–0–
–F–
```

## 3. Составные команды

### 3.1. Команды ветвления

#### 3.1.1. Если-то-иначе-все

Формат:

```kumir
если условие
  то серия1
  иначе серия2
все
```

или без `иначе`:

```kumir
если условие
  то серия1
все
```

- Кумир проверяет условие между `если` и `то`.
- Если условие истинно, выполняется `серия1`.
- Если ложно и есть `иначе`, выполняется `серия2`.
- Если `иначе` отсутствует и условие ложно, выполнение переходит к командам после `все`.

**Пример `если-то-иначе-все`:**

```kumir
если a<b
  то b:=b-a; p:=p+q
  иначе a:=a-b; q:=q+p
все
```

**Пример `если-то-все`:**

```kumir
если x>m
  то
    m:=x
    n:=n+1
все
```

#### 3.1.2. Выбор-при-иначе-все

Формат:

```kumir
выбор
  при условие 1 : серия 1
  при условие 2 : серия 2
  ...
  при условие n : серия n
  иначе серия n+1
все
```

или без `иначе`:

```kumir
выбор
  при условие_1 : серия_1
  при условие_2 : серия_2
  ...
  при условие_n : серия_n
все
```

- Проверяется первое истинное условие, выполняется соответствующая серия команд, затем переходит к командам после `все`.
- Если ни одно условие не истинно и есть `иначе`, выполняется `серия n+1`.
- Выполняется не более одной серии, даже если несколько условий истинны.

**Пример `выбор-при-иначе-все`:**

```kumir
выбор
  при а>1: i:=i+1
  при а<0: j:=j-1
  иначе t:=i; i:=j; j:=t
все
```

**Пример `выбор-при-все`:**

```kumir
выбор
  при а[i]>1000 : b[i]:=3; c[i]:=3.141
  при а[i]>100 :
    b[i]:=2; c[i]:=3.14
  при а[i]>10 :
    b[i]:=1
    c[i]:=3.14
все
```

*Примечание*: При `a[i]=1812` выполняются: `b[i]:=3; c[i]:=3.141`.

### 3.2. Команды цикла

#### 3.2.1. Цикл "для"

Формат:

```kumir
нц для i от i1 до i2
  тело_цикла
кц
```

или с шагом:

```kumir
нц для i от i1 до i2 шаг d
  тело_цикла
кц
```

- `i`: параметр цикла (тип `цел`).
- `i1`, `i2`: целые выражения, границы цикла.
- `d`: шаг (целое выражение, может быть отрицательным).
- Выполняется для `i = i1, i1+1, ..., i2` (без шага) или `i = i1, i1+d, i1+2d, ..., i ≤ i2` (с шагом).
- Если `i1 > i2` и шаг положительный, цикл не выполняется.

**Пример без шага:**

```kumir
нц для j от 1 до длин(t)
  t1[j]:=t[длин(t)+1-j]
кц
```

**Пример с положительным шагом:**

```kumir
нц для i от 1 до 100 шаг 2
  а[i+1]:=a[i]
кц
```

**Пример с отрицательным шагом:**

```kumir
нц для i от 100 до 1 шаг -2
  а[i]:=a[i-1]
кц
```

#### 3.2.2. Цикл "пока"

Формат:

```kumir
нц пока условие
  тело_цикла
кц
```

- Проверяет условие перед каждой итерацией.
- Если условие ложно, выполнение переходит к командам после `кц`.

**Пример:**

```kumir
нц пока а<10
  а := а + 1
кц
```

#### 3.2.3. Цикл "до тех пор"

Формат:

```kumir
нц
  тело_цикла
кц при условие
```

- Выполняет тело цикла, затем проверяет условие.
- Если условие ложно, цикл завершается.

**Пример:**

```kumir
нц
  x := 2*x
кц_при x>100
```

*Примечание*: В новой версии Кумира `кц_при` и `кц при` эквивалентны.

**Пример с условием в цикле N раз:**

```kumir
нц 5 раз
  ввод x, y, z
  вывод нс, "Координаты:", x, y, z
кц при x+y+z>100
```

#### 3.2.4. Цикл "N раз"

Формат:

```kumir
нц N раз
  тело_цикла
кц
```

- `N`: целое выражение, число повторений.

**Пример:**

```kumir
нц 4 раз
  ввод x, y, z
  вывод нс, "Координаты:", x, y, z
кц
```

#### 3.2.5. Цикл "нц-кц"

Формат:

```kumir
нц
  тело_цикла
кц
```

- Выполняется бесконечно, если нет команды `выход`.

**Пример:**

```kumir
нц
  а := а + 1
  если а>100 то выход все
кц
```

#### 3.2.6. Принудительное завершение цикла

Команда `выход` завершает выполнение текущего цикла, переходя к командам после `кц`.

## 4. Имена, величины и выражения

### 4.1. Имена

- **Имя**: последовательность слов, разделенных пробелами.
- Первое слово не должно начинаться с цифры.
- Слова не могут быть ключевыми словами.

**Примеры правильных имен:**

- `m`
- `погода на завтра`
- `Ноябрь 7`
- `Седьмое ноября`
- `дом_57б`

**Примеры неправильных имен:**

- `7е ноября` (первое слово начинается с цифры).
- `альфа-бета` (содержит недопустимый символ `-`).
- `альфа или омега` (`или` — ключевое слово).

**Слова:**

- Состоят из букв (кириллица, латиница), цифр, символов `@` и `_`.
- Примеры слов: `бета123`, `3кг`, `мама`, `Linux`, `КоСтЯ`, `kumir@infomir_ru`.
- Не слова: `альфа-123`, `ма%ма`, `С++`.

**Ключевые слова:**
`алг`, `нач`, `кон`, `исп`, `кон_исп`, `дано`, `надо`, `арг`, `рез`, `аргрез`, `знач`, `цел`, `вещ`, `лог`, `сим`, `лит`, `таб`, `целтаб`, `вещтаб`, `логтаб`, `симтаб`, `литтаб`, `и`, `или`, `не`, `да`, `нет`, `утв`, `выход`, `ввод`, `вывод`, `нс`, `если`, `то`, `иначе`, `все`, `выбор`, `при`, `нц`, `кц`, `кц_при`, `раз`, `пока`, `для`, `от`, `до`, `шаг`.

**Многословные не-имена:**

- Ключевое слово `не` можно вставлять в многословные логические имена.

**Пример:**

```kumir
лог л, завтра будет четверг
л := не завтра будет четверг   | Правильно
л := завтра не будет четверг   | Правильно
л := завтра будет не четверг   | Правильно
л := завтра будет четверг не   | Неправильно
л := не завтра не будет четверг| Неправильно
```

### 4.2. Типы величин

- **Обычные:**
  
  - `цел`: целые числа от `-2147483647` до `2147483647`.
  - `вещ`: вещественные числа (до ~1.797693×10^308).
  - `лог`: значения `да` или `нет`.
  - `сим`: любой символ.
  - `лит`: строка символов.

- **Табличные:**
  
  - `цел таб`
  - `вещ таб`
  - `лог таб`
  - `сим таб`
  - `лит таб`

**Пример описания:**

```kumir
цел i, j
лит t
вещ таб а[1:50]
```

### 4.3. Виды величин

- `арг`: аргументы, описываются в заголовке алгоритма.
- `рез`: результаты, описываются в заголовке.
- `знач`: значения функций, указываются перед именем функции.
- Локальные: описываются между `нач` и `кон`.
- Общие: описываются после `исп` и до первого `алг`.

### 4.4. Операции

#### 4.4.1. Арифметические

- `x + y`: сложение.
- `x - y`: вычитание.
- `x * y`: умножение.
- `x / y`: деление.
- `x ** y`: возведение в степень.

#### 4.4.2. Сравнение чисел

- `x = y`: равно.
- `x <> y`: не равно.
- `x < y`: меньше.
- `x > y`: больше.
- `x <= y`: меньше или равно.
- `x >= y`: больше или равно.

#### 4.4.3. Логические

- `а и б`: конъюнкция.
- `а или б`: дизъюнкция.
- `не а`: отрицание.

#### 4.4.4. Работа со строками

- `а + б`: слияние.
- `а[3:5]`: вырезка подстроки.
- `а[3]`: получение символа.
- `а = б`: равно.
- `а <> б`: не равно.

## 5. Исполнитель "Файлы"

### 5.1. Использование

Для работы с файлами в версиях Кумира для начальных и средних классов используется исполнитель `Файлы`. В старших классах и олимпиадных версиях он встроен в язык, и явное подключение не требуется, но не считается ошибкой.

**Подключение:**

```kumir
использовать Файлы
```

### 5.2. Алгоритмы работы с файлами

#### 5.2.1. открыть на чтение

```kumir
алг файл открыть на чтение(лит имя файла)
```

- Открывает текстовый файл для чтения.
- Имя файла: абсолютное или относительное (поиск относительно рабочего каталога).
- Ошибка: если файл не существует, нет прав или уже открыт.

#### 5.2.2. открыть на запись

```kumir
алг файл открыть на запись(лит имя файла)
```

- Открывает файл для записи (существующий файл очищается, новый создается).
- Ошибка: если нет прав или файл уже открыт.

#### 5.2.3. открыть на добавление

```kumir
алг файл открыть на добавление(лит имя файла)
```

- Открывает файл для добавления данных в конец.
- Ошибка: если нет прав или файл уже открыт.

#### 5.2.4. закрыть

```kumir
алг закрыть(файл имя файла)
```

- Закрывает файл.
- Все файлы должны быть закрыты до завершения программы, иначе возникает ошибка.

#### 5.2.5. начать чтение

```kumir
алг начать чтение(файл имя файла)
```

- Сбрасывает указатель чтения на начало файла.

#### 5.2.6. конец файла

```kumir
алг лог конец файла(файл имя файла)
```

- Возвращает `да`, если указатель в конце файла.

#### 5.2.7. есть данные

```kumir
алг лог есть данные(файл имя файла)
```

- Возвращает `да`, если есть символы после текущей позиции.
- Если `нет` и не конец файла, возможно чтение символа или строки.

#### 5.2.8. установить кодировку

```kumir
алг установить кодировку(лит имя кодировки)
```

- Устанавливает кодировку для файлов, открытых после вызова.
- Допустимые кодировки:
  - `CP-1251`, `Windows-1251`, `Windows`: для кириллицы в Windows.
  - `CP-866`, `IBM-866`, `DOS`: для консольных программ Windows.
  - `KOI8-R`, `KOI8`, `КОИ8`, `КОИ8-Р`: для старых UNIX-систем.
  - `UTF-8`, `UTF`, `Linux`: для современных UNIX (Linux, macOS).
- Ошибка: при неверном имени кодировки.

#### 5.2.9. можно открыть на чтение

```kumir
алг лог можно открыть на чтение(лит имя файла)
```

- Возвращает `да`, если файл существует и доступен для чтения.

#### 5.2.10. можно открыть на запись

```kumir
алг лог можно открыть на запись(лит имя файла)
```

- Возвращает `да`, если файл существует и доступен для записи.

#### 5.2.11. существует

```kumir
алг лог существует(лит имя)
```

- Возвращает `да`, если файл или каталог существует.

#### 5.2.12. является каталогом

```kumir
алг лог является каталогом(лит имя)
```

- Возвращает `да`, если указанное имя — каталог.

#### 5.2.13. создать каталог

```kumir
алг лог создать каталог(лит имя каталога)
```

- Создает каталог, возвращает `да` при успехе.

#### 5.2.14. удалить_файл

```kumir
алг лог удалить_файл(лит имя файла)
```

- Удаляет файл без возможности восстановления.
- Возвращает `да` при успехе.
- *Внимание*: Имя содержит подчеркивание.

#### 5.2.15. удалить_каталог

```kumir
алг лог удалить_каталог(лит имя каталога)
```

- Удаляет пустой каталог.
- Возвращает `да` при успехе.
- *Внимание*: Имя содержит подчеркивание.

#### 5.2.16. полный путь

```kumir
алг лит полный путь(лит имя)
```

- Возвращает абсолютное имя файла или каталога.

#### 5.2.17. РАБОЧИЙ КАТАЛОГ

```kumir
алг лит РАБОЧИЙ КАТАЛОГ
```

- Возвращает абсолютное имя текущего рабочего каталога.
- При запуске из консоли: каталог, выбранный в консоли.
- При запуске из среды Кумир:
  - Если программа сохранена, каталог программы.
  - Если не сохранена, каталог из меню «Программа».

#### 5.2.18. КАТАЛОГ ПРОГРАММЫ

```kumir
алг лит КАТАЛОГ ПРОГРАММЫ
```

- Возвращает абсолютное имя каталога программы.
- Если программа не сохранена, возвращает `"./"`.

#### 5.2.19. НАЗНАЧИТЬ ВВОД

```kumir
алг НАЗНАЧИТЬ ВВОД(лит имя файла)
```

- Если имя файла не пустое и файл доступен, устанавливает его как источник для `ввод`.
- Пустое имя: восстанавливает ввод с клавиатуры.
- Ошибка: если файл недоступен.

#### 5.2.20. НАЗНАЧИТЬ ВЫВОД

```kumir
алг НАЗНАЧИТЬ ВЫВОД(лит имя файла)
```

- Если имя файла не пустое и файл доступен, устанавливает его как приемник для `вывод`.
- Пустое имя: восстанавливает вывод на экран.
- Ошибка: если файл недоступен.

#### 5.2.21. консоль

```kumir
алг файл консоль
```

- Возвращает псевдо-файл, связанный с терминалом:
  - Всегда открыт для чтения и записи.
  - Закрытие вызывает ошибку.
  - Нет имени.
  - Запись отображается на экране, чтение запрашивает ввод с клавиатуры.

## 6. Исполнитель "Строки"

### 6.1. Использование

Для работы со строками в версиях Кумира для начальных и средних классов используется исполнитель `Строки`. В старших классах и олимпиадных версиях он встроен.

**Подключение:**

```kumir
использовать Строки
```

### 6.2. Алгоритмы обработки строк

#### 6.2.1. верхний регистр

```kumir
алг лит верхний регистр(лит строка)
```

- Возвращает строку в верхнем регистре.

#### 6.2.2. нижний регистр

```kumir
алг лит нижний регистр(лит строка)
```

- Возвращает строку в нижнем регистре.

#### 6.2.3. позиция (поз)

```kumir
алг цел позиция(лит фрагмент, лит строка)
алг цел поз(лит фрагмент, лит строка)
```

- Возвращает позицию первого символа `фрагмент` в `строка`.
- Если не найдено, возвращает `0`.

#### 6.2.4. позиция после (поз после)

```kumir
алг цел позиция после(цел начало, лит фрагмент, лит строка)
алг цел поз после(цел начало, лит фрагмент, лит строка)
```

- Ищет `фрагмент` в `строка` начиная с позиции `начало`.
- Если не найдено, возвращает `0`.

#### 6.2.5. вставить

```kumir
алг вставить(лит фрагмент, аргрез лит строка, арг цел начало)
```

- Вставляет `фрагмент` в `строка` с позиции `начало`.
- Если `начало = длин(строка)+1`, добавляет в конец.
- Ошибка: если `начало < 1` или `начало > длин(строка)+1`.

#### 6.2.6. заменить

```kumir
алг заменить(аргрез лит строка, арг лит старый фрагмент, арг лит новый фрагмент, арг лог каждый)
```

- Заменяет `старый фрагмент` на `новый фрагмент` в `строка`.
- Если `каждый = да`, заменяет все вхождения.
- Если `каждый = нет`, заменяет первое вхождение.

#### 6.2.7. удалить

```kumir
алг удалить(аргрез лит строка, арг цел начало, арг цел количество)
```

- Удаляет `количество` символов из `строка` начиная с `начало`.
- Если `начало + количество > длин(строка)+1`, удаляет до конца.
- Ошибка: если `начало < 1` или `начало > длин(строка)+1`.

## 7. Обработка текста

### 7.1. длин

```kumir
алг цел длин(лит строка)
```

- Возвращает количество символов в строке.

**Пример:**

```kumir
алг
нач
  лит а
  цел ц
  вывод "введите строку"
  ввод а
  ц := длин(а)
  вывод ц
кон
```

### 7.2. код

```kumir
алг цел код(сим c)
```

- Возвращает номер символа `c` в таблице CP-1251.

**Пример:**

```kumir
алг
нач
  сим а
  цел ц
  вывод "введите символ "
  ввод а
  ц := код(а)
  вывод ц
кон
```

### 7.3. юникод

```kumir
алг цел юникод(сим c)
```

- Возвращает номер символа `c` в таблице Unicode.

### 7.4. символ

```kumir
алг сим символ(цел n)
```

- Возвращает символ с номером `n` в таблице CP-1251.

**Пример:**

```kumir
алг
нач
  сим а
  цел ц
  вывод "введите число "
  ввод ц
  а := символ(ц)
  вывод а
кон
```

### 7.5. юнисимвол

```kumir
алг сим юнисимвол(цел n)
```

- Возвращает символ с номером `n` в таблице Unicode.

## 8. Системные функции

### 8.1. ждать

```kumir
алг ждать(цел x)
```

- Приостанавливает выполнение на `x` миллисекунд.

### 8.2. время

```kumir
алг цел время
```

- Возвращает количество миллисекунд с начала суток.

**Пример:**

```kumir
алг
нач
  цел мсек, сек, мин, час
  мсек:=время
  час:=div(мсек,1000*60*60)
  мин:=div(мсек,1000*60)-час*60
  сек:=div(мсек,1000)-час*60*60-мин*60
  вывод час, ":", мин, ":", сек
кон
```
