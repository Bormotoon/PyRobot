import pytest  # type: ignore
import os
import sys
from io import StringIO

from pyrobot.backend.kumir_interpreter.runtime_utils import interpret_kumir
from pyrobot.backend.kumir_interpreter.kumir_exceptions import KumirSyntaxError, KumirEvalError

# Определяем директорию с примерами КуМир относительно текущего файла
current_dir = os.path.dirname(os.path.abspath(__file__))
# Исправляем путь на tests/polyakov_kum
PROGRAMS_DIR = os.path.join(current_dir, "polyakov_kum")

from typing import List, Tuple, Optional

TEST_CASES: List[Tuple[str, Optional[str], Optional[str]]] = [
    ('1-empty.kum', None, ''),
    ('2-2+2.kum', None, '2+2=?\nОтвет: 4\n'),
    ('3-a+b.kum', '2\n3\n', '2 3\n5\n'),
    ('4-a+b.kum', '10\n20\n', 'Введите два целых числа: 10 20\n10+20=30\n'),
    ('6-format.kum', None, '>  123<\n1.2345678\n>  1.235<\n'),
    ('7-rand.kum', None, None),
    ('8-if.kum', '5\n7\n', 'Введите два целых числа: 5 7\nМаксимальное число:\n7\n7\n7\n7\n'),
    ('9-if.kum', '-3\n5\n', 'Введите возраст Андрея и Бориса: -3 5\nБорис старше\n'),
    ('10-and.kum', '27\n', "Введите возраст: 27\nподходит\n"),
    ('11-switch.kum', '2\n', 'Введите номер месяца: 2\nфевраль\n'),
    ('12-switch.kum', '7\n', '7\n1\n'),
    ('13-loopN.kum', '5\n', 'Сколько раз сделать? 5\nпривет\nпривет\nпривет\nпривет\nпривет\n'),
    ('14-while.kum', '5\n', 'Сколько раз сделать? 5\nпривет\nпривет\nпривет\nпривет\nпривет\n'),
    ('15-while.kum', '12345\n', "Введите целое число: 12345\nЦифр в числе: 5\n"),
    ('16-repeat.kum', '-1\n0\n2\n', 'Введите целое положительное число: -1\n0\n2\nВведено число 2\n  и до него 2 ошибочных значений(я)\n'),
    ('17-for.kum', '5\n', '5\n2 4 8 16 32 \n'),
    ('18-downto.kum', '5\n', '5\n32 16 8 4 2 \n'),
    ('19-prime.kum', '17\n', 'Введите максимальное число: 17\nПростые числа: 2 3 5 7 11 13 17 \n'),
    ('20-proc-err.kum', '-1\n', '-1\nОшибка программы\n'),
    ('21-proc-bin.kum', '13\n', 'Введите натуральное число: 13\nДвоичный код: 00001101\n'),
    ('1-primes.kum', '100\n', 'Введите максимальное число: 100\nПростые числа от 2 до 100:\n2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 \n'),
    ('2-longnum.kum', None, 'Факториал числа 100:\n93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000\n'),
    ('22-swap.kum', '2\n3\n', 'Введите два целых числа: 2 3\nПосле обмена: x=3 y=2\n'),
    ('23-func-sumdig.kum', '12345\n', 'Введите целое число: 12345\nСумма цифр 15\n'),
    ('24-func-prime.kum', '15\n', 'Введите максимальное число: 15\nПростые числа: 2 3 5 7 11 13 \n'),
    ('25-func-prime.kum', '5\n7\n12\n', 'Введите число: 5\n5 - простое число\nВведите число: 7\n7 - простое число\nВведите число: 12\n'),
    ('26-rec-hanoi.kum', None, '1 -> 3\n1 -> 2\n3 -> 2\n1 -> 3\n2 -> 1\n2 -> 3\n1 -> 3\n'),
    ('27-rec-bin.kum', '99\n', 'Введите натуральное число: 99\nДвоичный код 1100011\n'),
    ('28-rec-sumdig.kum', '12345\n', 'Введите натуральное число: 12345\nСумма цифр 15\n'),
    ('29-rec-nod.kum', '14\n21\n', 'Введите два натуральных числа: 14 21\nНОД(14,21)=7\n'),
    ('30-rec-fact.kum', '4\n', 'Введите натуральное число: 4\n-> N=4\n-> N=3\n-> N=2\n-> N=1\n<- N=1\n<- N=2\n<- N=3\n<- N=4\n24\n'),
    ('31-arr-empty.kum', None, ''),
    ('32-arr-kvad.kum', '9\n', 'Введите размер массива: 9\n1 4 9 16 25 36 49 64 81 \n'),
    ('33-arr-input.kum', '4\n9\n-2\n0\n1\n', 'Введите размер массива: 4\nВведите элементы массива:\nA[1]=9\nA[2]=-2\nA[3]=0\nA[4]=1\nМассив задом наперёд: \n1 0 -2 9 \n'),
    ('34-arr-rand.kum', '8\n', None),
    ('35-arr-sum.kum', '7\n180\n185\n100\n200\n170\n188\n190\n', 'Введите размер массива:\n7\nВведите элементы массива:\n180\n185\n100\n200\n170\n188\n190\nЭлементы 180 < x < 190:\nКоличество: 2\nСумма:      373\nСреднее:    186.5\n'),
    ('36-arr-search.kum', '6\n-3\n3\n0\n2\n12\n-45\n0\n', 'Введите размер массива: 6\nВведите элементы массива: \n-3\n3\n0\n2\n12\n-45\nЧто ищем? 0\nA[3]=0\n'),
    ('37-arr-search.kum', '7\n-3\n-2\n-1\n0\n1\n2\n3\n1\n', 'Введите размер массива: 7\nВведите элементы массива: \n-3\n-2\n-1\n0\n1\n2\n3\nЧто ищем? 1\nA[5]=1\n'),
    ('39-arr-rev.kum', '7\n-2\n-1\n0\n1\n2\n3\n4\n', 'Введите размер массива: 7\nВведите элементы массива: \n-2\n-1\n0\n1\n2\n3\n4\nПосле реверса:\n4 3 2 1 0 -1 -2 \n'),
    ('40-arr-shift.kum', '5\n-3\n-2\n0\n2\n3\n', 'Введите размер массива: 5\nВведите элементы массива: \n-3\n-2\n0\n2\n3\nПосле сдвига влево:\n-2 0 2 3 -3 \n'),
    ('42-arr-bsort.kum', '4\n-12\n0\n3\n1\n', 'Введите размер массива: 4\nВведите элементы массива:\n-12\n0\n3\n1\nПосле сортировки:\n-12 0 1 3 \n'),
    ('42a-arr-bsort.kum', '6\n-12\n43\n11\n0\n-3\n-5412\n', 'Введите размер массива: 6\nВведите элементы массива:\n-12\n43\n11\n0\n-3\n-5412\nПосле сортировки:\n-5412 -12 -3 0 11 43 \n'),
    ('43-arr-msort.kum', '5\n-1\n8\n4\n5\n-21\n', 'Введите размер массива: 5\nВведите элементы массива: \n-1\n8\n4\n5\n-21\nПосле сортировки:\n-21 -1 4 5 8 \n'),
    ('44-arr-qsort.kum', None, 'До сортировки:\n78 6 82 67 55 44 34 \nПосле сортировки:\n6 34 44 55 67 78 82 \n'),
    ('46-str-ab.kum', 'ааабббвввгггдддееежжж\n', 'ааабббвввгггдддееежжж\nббббббвввгггдддееежжж\n'),
    ('47-str-ops.kum', None, 'Привет, Вася!\n34567\n129\n12ABC3456789\n'),
    ('48-str-search.kum', None, 'Номер символа 4\n'),
    ('49-str-complex.kum', 'Николай Ильич Щитфаков\n', 'Введите имя, отчество и фамилию:Николай Ильич Щитфаков\nЩитфаков Н. И.\n'),
    ('50-str-num.kum', None, '246\n246.912\n123\n123.456\n'),
    ('51-str-proc.kum', None, 'A12B.A12B.A12B\n'),
    ('52-str-func.kum', None, 'A12B.A12B.A12B\n'),
    ('53-str-rec.kum', None, 'ЫЫЫ\nЫЫШ\nЫЫЧ\nЫЫО\nЫШЫ\nЫШШ\nЫШЧ\nЫШО\nЫЧЫ\nЫЧШ\nЫЧЧ\nЫЧО\nЫОЫ\nЫОШ\nЫОЧ\nЫОО\nШЫЫ\nШЫШ\nШЫЧ\nШЫО\nШШЫ\nШШШ\nШШЧ\nШШО\nШЧЫ\nШЧШ\nШЧЧ\nШЧО\nШОЫ\nШОШ\nШОЧ\nШОО\nЧЫЫ\nЧЫШ\nЧЫЧ\nЧЫО\nЧШЫ\nЧШШ\nЧШЧ\nЧШО\nЧЧЫ\nЧЧШ\nЧЧЧ\nЧЧО\nЧОЫ\nЧОШ\nЧОЧ\nЧОО\nОЫЫ\nОЫШ\nОЫЧ\nОЫО\nОШЫ\nОШШ\nОШЧ\nОШО\nОЧЫ\nОЧШ\nОЧЧ\nОЧО\nООЫ\nООШ\nООЧ\nООО\n'),
    ('54-str-sort.kum', '5\nпароход\nпаровоз\nпар\nПар\nпАр\n', 'Введите количество строк: 5\nВведите строки: \nпароход\nпаровоз\nпар\nПар\nпАр\nПосле сортировки: \nПар\nпАр\nпар\nпаровоз\nпароход\n'),
    ('55-matr-declare.kum', None, ''),
    ('56-matr-rand.kum', None, None),
    ('57-matr-sum.kum', None, 'Матрица: \n2 3 4 5 \n3 4 5 6 \n4 5 6 7 \nСумма элементов 54\n'),
]


def run_kumir_program(program_path: str, input_data: str | None = None) -> str:
    """
    Запускает программу КуМир и возвращает её стандартный вывод.

    Args:
        program_path (str): Путь к файлу программы .kum
        input_data (str, optional): Строка с входными данными. Defaults to None.

    Returns:
        str: Стандартный вывод программы.
    """
    original_stdin = sys.stdin
    original_stdout = sys.stdout
    original_stderr = sys.stderr  # Сохраняем оригинальный stderr

    input_buffer = StringIO(input_data if input_data else "")
    # output_buffer больше не нужен здесь для redirect_stdout
    # output_buffer = StringIO()

    # print(f"[DEBUG_RUN_KUMIR_PROGRAM] BEFORE (no redirect). output_buffer concept removed", file=original_stderr)

    actual_output_value = ""  # Переименуем, чтобы не путать с переменной теста

    try:
        with open(program_path, 'r', encoding='utf-8') as f:
            code = f.read()
            code = code.replace('\r\n', '\n').replace('\r', '\n')        # Устанавливаем stdin
        sys.stdin = input_buffer

        # interpret_kumir сам захватывает stdout и возвращает его.
        # Внешнее перенаправление через redirect_stdout(output_buffer) не нужно
        # и приводило к тому, что output_buffer оставался пустым.
        actual_output_value = interpret_kumir(code, input_data)        # DEBUG PRINT ПОСЛЕ ВЫЗОВА INTERPRET_KUMIR
        print(f"[DEBUG_RUN_KUMIR_PROGRAM] interpret_kumir returned:\n>>>\n{actual_output_value}\n<<<", file=original_stderr)
    except KumirSyntaxError as e:
        pytest.fail(f"KumirSyntaxError for {program_path}: {e}")
    except KumirEvalError as e:
        actual_output_value += f"\nОШИБКА ВЫПОЛНЕНИЯ: {e}\n"
        pytest.fail(f"KumirEvalError for {program_path}: {e}")
    except Exception as e:
        print(f"--- НЕПРЕДВИДЕННАЯ ОШИБКА {os.path.basename(program_path)} ---", file=original_stderr)
        import traceback
        traceback.print_exc(file=original_stderr)
        pytest.fail(f"Unexpected exception for {program_path}: {e}")
    finally:
        sys.stdin = original_stdin
        sys.stdout = original_stdout
        sys.stderr = original_stderr

    # --- DEBUG PRINT ПОСЛЕ try/finally ---
    # print(f"[DEBUG_RUN_KUMIR_PROGRAM] AFTER try/finally. actual_output_value is: ({len(actual_output_value)} chars)\n>>>\n{actual_output_value}\n<<<", file=original_stderr)

    # actual_output теперь это то, что вернул interpret_kumir
    # actual_output = output_buffer.getvalue() # Эта строка больше не нужна

    # DEBUG PRINT ДЛЯ ACTUAL_OUTPUT (который теперь actual_output_value)
    # print(f"[DEBUG_RUN_KUMIR_PROGRAM] actual_output (from interpret_kumir) is ({len(actual_output_value)} chars):\n>>>\n{actual_output_value}\n<<<", file=original_stderr)

    # Нормализация конца строки, если нужно (оставляем эту логику)
    if actual_output_value and not actual_output_value.endswith('\n'):
        actual_output_value += '\n'
    return actual_output_value


@pytest.mark.parametrize("program,input_data,expected_output", TEST_CASES)
def test_kumir_program(
    program: str,
    input_data: str | None,
    expected_output: str | None
) -> None:
    """
    Тестирует выполнение программы на КуМире.

    Args:
        program (str): Имя файла программы
        input_data (str): Входные данные (если нужны)
        expected_output (str): Ожидаемый вывод
    """
    program_path = os.path.join(PROGRAMS_DIR, program)
    assert os.path.exists(program_path), f"Файл программы не найден: {program}"

    actual_output = ""  # Инициализируем actual_output
    try:
        actual_output = run_kumir_program(program_path, input_data)
        if expected_output is not None:
            assert actual_output == expected_output, \
                f"Неверный вывод для {program}:\nОжидалось:\n{expected_output}\nПолучено:\n{actual_output}"
    except KumirSyntaxError as e:
        pytest.fail(f"KumirSyntaxError for {program_path}: {e}")
    except KumirEvalError as e:
        pytest.fail(f"KumirEvalError for {program_path}: {e}")
    except Exception as e:
        pytest.fail(f"Unexpected exception for {program_path}: {e}")
    if expected_output is not None and "ОШИБКА ВЫПОЛНЕНИЯ" not in actual_output:
        assert actual_output == expected_output, \
            f"Неверный вывод для {program}:\nОжидалось:\n{expected_output}\nПолучено:\n{actual_output}"

# Автогенерированные тесты для курса: robokum
# Сгенерировано: 2025-06-08 22:42:30

def test_robokum_1_A_101(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-A (ID: 101)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
нач
вверх
вверх
вверх
влево
влево
закрасить
влево
закрасить
влево
закрасить
влево
вниз
вправо
закрасить
вправо
закрасить
вправо
закрасить
влево
влево
влево
вверх
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_101.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_1_A_101 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_1_B_102(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-B (ID: 102)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
нач
вниз
вниз
вправо
вправо
вправо
вниз
влево
влево
закрасить
влево
закрасить
влево
закрасить
вправо
вниз
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_102.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_1_B_102 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_1_C_103(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-C (ID: 103)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
нач
вверх
вверх
вверх
влево
закрасить
вниз
закрасить
вверх
вправо
вправо
вниз
закрасить
вверх
закрасить
влево
вниз
вниз
влево
влево
вверх
вверх
вверх
закрасить
вправо
вправо
закрасить
вправо
вправо
закрасить
вниз
вниз

кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_103.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_1_C_103 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_1_D_104(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-D (ID: 104)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
нач
вниз
влево
влево
вниз
вниз
вниз
вправо
вправо
вправо
закрасить
вверх
вверх
закрасить
влево
влево
закрасить
вниз
вправо
закрасить
влево
вверх
вправо
вправо
вниз
вниз
влево
влево
влево
вниз
вниз
вниз
вниз
вправо
вправо
вправо
вправо
вверх
вверх
вверх
влево
влево
влево
закрасить
вниз
вниз
закрасить
вправо
вправо
закрасить
вверх
влево
закрасить
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_104.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_1_D_104 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_2_A_201(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-A (ID: 201)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
влево
нц 6 раз
влево
закрасить
кц
вниз
вниз
нц 5 раз
закрасить
вправо
кц
вниз
влево
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_201.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_2_A_201 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_2_B_202(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-B (ID: 202)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
нц 7 раз
влево
закрасить
кц
нц 6 раз
вправо
кц
нц 5 раз
вниз
закрасить
кц
нц 6 раз
влево
закрасить
кц
нц 7 раз
вправо
кц
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_202.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_2_B_202 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_2_C_203(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-C (ID: 203)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
нц 3 раз
вправо
кц
нц 3 раз
вниз
закрасить
влево
кц
вниз
вниз
нц 5 раз
вправо
закрасить
вверх
кц
вправо
вправо
нц 7 раз
вниз
закрасить
влево
кц
вниз
вниз
нц 9 раз
вправо
закрасить
вверх
кц
нц 9 раз
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_203.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_2_C_203 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_2_D_204(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-D (ID: 204)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
нц 8 раз
вниз
влево
вверх
закрасить
кц
влево
закрасить
нц 8 раз
вправо
вниз
влево
закрасить
кц
вниз
закрасить
нц 8 раз
вверх
вправо
вниз
закрасить
кц
вправо
закрасить
нц 8 раз
влево
вверх
вправо
закрасить
кц
вверх
закрасить
вниз
влево
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_204.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_2_D_204 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_3_A_301(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-A (ID: 301)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
нц 3 раз
вверх
кц
нц 6 раз
вправо
закрасить
влево
вниз
кц
нц 3 раз
вправо
кц
нц 3 раз
вверх
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_301.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_3_A_301 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_3_B_302(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-B (ID: 302)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
нц 6 раз
влево
вниз
закрасить
кц
влево
вниз
нц 7 раз
вправо
кц
нц 6 раз
вверх
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_302.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_3_B_302 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_3_C_303(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-C (ID: 303)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
вправо
нц 6 раз
вниз
закрасить
вверх
вправо
вниз
кц
нц 2 раз
вниз
кц
влево
нц 6 раз
вверх
закрасить
вниз
влево
вверх
кц
вверх
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_303.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_3_C_303 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_3_D_304(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-D (ID: 304)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте цикл "N раз"
нач
вниз
нц 4 раз
вправо
закрасить
вправо
закрасить
вниз
закрасить
влево
закрасить
вправо
вверх
влево
влево
вниз
вниз
вправо
кц
нц 3 раз
вправо
кц
нц 4 раз
вверх
закрасить
влево
закрасить
вверх
закрасить
вправо
закрасить
влево
кц
вверх
нц 3 раз
влево
кц
вниз
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_304.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_3_D_304 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_4_A_401(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-A (ID: 401)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте вложенный цикл "N раз"
нач
влево
нц 4 раз
вверх
нц 7 раз
вправо
закрасить
кц
нц 7 раз
влево
кц
вверх
кц
вниз
нц 8 раз
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_401.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_4_A_401 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_4_B_402(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-B (ID: 402)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте вложенный цикл "N раз"
нач
вправо
нц 4 раз
нц 6 раз
закрасить
вниз
кц
нц 5 раз
вверх
кц
вправо
кц
нц 4 раз
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_402.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_4_B_402 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_4_C_403(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-C (ID: 403)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте вложенный цикл "N раз"
нач
вниз
вправо
нц 3 раз
вверх
нц 3 раз
влево
влево
закрасить
влево
закрасить
вверх
закрасить
вниз
кц
вверх
вверх
нц 9 раз
вправо
кц
кц
нц 10 раз
влево
кц
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_403.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_4_C_403 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_4_D_404(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-D (ID: 404)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести робота на Базу.
| Используйте вложенный цикл "N раз"
нач
нц 9 раз
влево
кц
нц 3 раз
нц 8 раз
вниз
закрасить
вниз
закрасить
вверх
вверх
вправо
кц
нц 3 раз
вниз
кц
нц 8 раз
влево
кц
кц
нц 8 раз
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_404.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_4_D_404 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_5_A_501(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-A (ID: 501)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у левой стенки ограды.
| Длины стенок неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока снизу свободно
вниз
кц
закрасить
нц пока справа свободно
вправо
кц
закрасить
нц пока справа стена
вверх
кц
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_501.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_5_A_501 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_5_B_502(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-B (ID: 502)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у левой стенки поля.
| Длины стенок неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока сверху свободно
вверх
кц
закрасить
нц пока снизу свободно
вниз
кц
закрасить
нц пока справа свободно
вправо
кц
закрасить
нц пока сверху свободно
вверх
кц
закрасить
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_502.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_5_B_502 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_5_C_503(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-C (ID: 503)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот где-то на поле.
| Размеры поля неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока снизу свободно
вниз
кц
нц пока справа свободно
вправо
кц
нц пока сверху свободно
вверх
закрасить
кц
нц пока слева свободно
влево
закрасить
кц
нц пока снизу свободно
вниз
закрасить
кц
нц пока справа свободно
вправо
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_503.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_5_C_503 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_5_D_504(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-D (ID: 504)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит под прямоугольной оградой.
| Длины стенок неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока сверху свободно
вверх
кц
нц пока сверху стена
вправо
кц
закрасить
влево
нц пока сверху стена
закрасить
влево
кц
закрасить
вверх
нц пока справа стена
закрасить
вверх
кц
закрасить
вправо
нц пока снизу стена
закрасить
вправо
кц
закрасить
вниз
нц пока слева стена
закрасить
вниз
кц
нц пока снизу свободно
вниз
кц
нц пока справа свободно
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_504.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_5_D_504 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_6_A_601(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-A (ID: 601)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у левого края поля.
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока сверху свободно
вверх
кц
нц пока справа свободно
если сверху стена
то
закрасить
иначе
нц 2 раз
вверх
закрасить
кц
нц 2 раз
вниз
кц
все
вправо
кц
закрасить
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_601.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_6_A_601 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_6_B_602(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-B (ID: 602)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридопр..
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока справа свободно
вправо
закрасить
если сверху свободно
то
вверх
закрасить
вниз
все
если снизу свободно
то
вниз
закрасить
вверх
все
кц
нц пока слева свободно
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_602.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_6_B_602 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_6_C_603(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-C (ID: 603)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридопр..
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока справа свободно
вправо
закрасить
если сверху свободно
то
нц 2 раз
вверх
закрасить
кц
вниз
вниз
все
если снизу свободно
то
вниз
закрасить
вверх
все
кц
нц пока слева свободно
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_603.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_6_C_603 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_6_D_604(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-D (ID: 604)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридопр..
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока".
нач
нц пока справа свободно
вправо
закрасить
если сверху свободно
то
вверх
закрасить
если сверху свободно
то
вверх
закрасить
вниз
все
вниз
все
если снизу свободно
то
вниз
закрасить
если снизу свободно
то
вниз
закрасить
вверх
все
вверх
все
кц
нц пока слева свободно
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_604.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_6_D_604 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_7_A_701(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-A (ID: 701)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридор.
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока" и сложные условия.
нач
вверх
влево
нц пока сверху стена или снизу стена
закрасить
влево
кц
вверх
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_701.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_7_A_701 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_7_B_702(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-B (ID: 702)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридор.
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока" и 
| сложные условия.
нач
вверх
влево
нц пока сверху стена или снизу стена
если сверху стена и снизу стена
то
закрасить
все
влево
кц
вверх
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_702.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_7_B_702 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_7_C_703(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-C (ID: 703)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридор.
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока" и 
| сложные условия.
нач
вниз
вправо
нц пока справа свободно
если сверху стена и снизу стена
то
закрасить
все
если сверху свободно
то
вверх
закрасить
вниз
все
вправо
кц
нц пока справа стена или слева стена
если слева стена и справа стена
то
закрасить
все
если справа свободно
то
вправо
закрасить
влево
все
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_703.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_7_C_703 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_7_D_704(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-D (ID: 704)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот стоит у входа в коридор.
| Длины стенок и число проходов 
| неизвестны.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл "пока" и 
| сложные условия.
нач
вниз
вправо
нц пока сверху стена или снизу стена
если сверху стена и снизу стена
то
закрасить
все
если сверху свободно
то
вверх
закрасить
вниз
все
вправо
кц
вниз
нц пока справа стена или слева стена
если слева стена и справа стена
то
закрасить
все
если справа свободно
то
вправо
закрасить
влево
все
вниз
кц
влево
нц пока сверху стена или снизу стена
если сверху стена и снизу стена
то
закрасить
все
если снизу свободно
то
вниз
закрасить
вверх
все
влево
кц
вверх
нц пока справа стена или слева стена
если слева стена и справа стена
то
закрасить
все
если слева свободно
то
влево
закрасить
вправо
все
вверх
кц
влево
вверх
вверх
вправо
вправо
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_704.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_7_D_704 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_8_A_801(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 8-A (ID: 801)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте вспомогательный алгоритм
| "Ряд".
нач
вправо
вниз
Ряд
вверх
вправо
Ряд
вправо
вправо
Ряд
вправо
вниз
Ряд
кон
| вспомогательный алгоритм
алг Ряд
нач
нц 6 раз
вниз
закрасить
кц
нц 6 раз
вверх
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_801.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_8_A_801 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_8_B_802(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 8-B (ID: 802)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте вспомогательный алгоритм
| "Сапог".
нач
Сапог
вправо
вправо
вверх
вверх
Сапог
вверх
вверх
влево
влево
Сапог
кон
| вспомогательный алгоритм
алг Сапог
нач
влево
закрасить
вверх
нц 4 раз
закрасить
влево
кц
нц 5 раз
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_802.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_8_B_802 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_8_C_803(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 8-C (ID: 803)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте вспомогательный алгоритм.
нач
Крест
нц 5 раз
вниз
кц
влево
Крест
нц 3 раз
вверх
кц
влево
Крест
кон
| вспомогательный алгоритм
алг Крест
нач
вправо
закрасить
вверх
вверх
закрасить
влево
вниз
нц 3 раз
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_803.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_8_C_803 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_8_D_804(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 8-D (ID: 804)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте вспомогательный алгоритм,
| который вызывается 4 раза.
нач
вправо
Т
Т
нц 4 раз
вниз
кц
Т
нц 4 раз
вниз
кц
нц 4 раз
влево
кц
Т
влево
влево
вверх
вверх
кон
| вспомогательный алгоритм
алг Т
нач
вверх
закрасить
вверх
влево
нц 3 раз
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_804.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_8_D_804 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_9_A_901(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 9-A (ID: 901)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот у нижней стенки прямоугольной ограды.
надо | Привести Робота на Базу, расположенную у верхней
| стенки ограды на таком же расстояниии от 
| левой стенки этой ограды.
| Используйте переменные.
нач
цел n
n := 0
нц пока сверху стена
влево
n:=n+1
кц
вверх
нц пока справа стена
вверх
кц
нц n раз
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_901.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_9_A_901 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_9_B_902(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 9-B (ID: 902)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Ниже Робота расположена стенка.
надо | Привести Робота на Базу, расположенную симметрично
| начальной точке относительно стенки. Закрасить все 
| клетки под стенкой слева от линии Робот-база.
| Используйте переменные.
нач
цел a, b
a:=0; b:=0
нц пока снизу свободно
вниз
a:=a+1
кц
нц пока снизу стена
влево
b:=b+1
кц
вниз
нц b раз
вправо
закрасить
кц
нц a раз
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_902.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_9_B_902 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_9_C_903(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 9-C (ID: 903)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить клетки в углах поля и привести 
| Робота в начальную точку.
| Используйте переменные.
нач
цел a, b
a:=0; b:=0
нц пока сверху свободно
вверх
a:=a+1
кц
нц пока слева свободно
влево
b:=b+1
кц
закрасить
нц пока снизу свободно
вниз
кц
закрасить
нц пока справа свободно
вправо
кц
закрасить
нц пока сверху свободно
вверх
кц
закрасить
нц пока слева свободно
влево
кц
закрасить
нц b раз
вправо
кц
нц a раз
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_903.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_9_C_903 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_9_D_904(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 9-D (ID: 904)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле, разделенном на две части
| горизонтальной стенкой. В стенке есть проход.
надо | Закрасить клетки в углах обеих частей 
| поля и привести Робота в начальную точку.
| Используйте переменные.
нач
цел a, b
a:=0; b:=0
нц пока сверху свободно
вверх
a:=a+1
кц
нц пока слева свободно
влево
b:=b+1
кц
закрасить
нц пока снизу свободно
вниз
кц
закрасить
нц пока снизу стена
вправо
кц
вниз
нц пока слева свободно
влево
кц
закрасить
нц пока снизу свободно
вниз
кц
закрасить
нц пока справа свободно
вправо
кц
закрасить
нц пока сверху свободно
вверх
кц
закрасить
нц пока сверху стена
влево
кц
вверх
нц пока справа свободно
вправо
кц
закрасить
нц пока сверху свободно
вверх
кц
закрасить
нц пока слева свободно
влево
кц
закрасить
нц b раз
вправо
кц
нц a раз
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_904.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_9_D_904 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_10_A_1001(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 10-A (ID: 1001)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Ниже Робота расположена стенка.
надо | Закрасить все отмеченные клетки и привести 
| Робота на Базу, расположенную у правого
| края стенки.
| Используйте вспомогательный алгоритм, который
| вычисляет длину стенки.
нач
цел д
д := Длина стенки
вывод "Длина стенки ", д
кон
| вспомогательный алгоритм с результатом
алг цел Длина стенки
нач
цел a
нц пока снизу свободно
вниз
кц
нц пока снизу стена
влево
кц
вниз
a:=0
вправо
нц пока сверху стена
закрасить
вправо
a:=a+1
кц
знач:=a
кон

|#%%
алг цел @тестирование
нач
цел x, y, ширина, высота, длина
длина := Длина стенки
если длина <> int(@@температура(1,1))то
вывод "Задание не выполнено: неверно определена длина стенки"
знач:=0
выход
все
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1001.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_10_A_1001 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_10_B_1002(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 10-B (ID: 1002)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на пустом поле.
надо | Закрасить отмеченные клетки в углах поля
| и привести Робота на Базу рядом в правом
| нижнем углу поля.
| Используйте вспомогательный алгоритм, который
| вычисляет площадь поля.
нач
цел пл
пл := Площадь поля
вывод "Площадь поля ", пл
кон
| вспомогательный алгоритм с результатом
алг цел Площадь поля
нач
цел a, b
нц пока справа свободно
вправо
кц
нц пока сверху свободно
вверх
кц
a:=1
закрасить
нц пока слева свободно
влево
a:=a+1
кц
b:=1
закрасить
нц пока снизу свободно
вниз
b:=b+1
кц
закрасить
нц пока справа свободно
вправо
кц
закрасить
знач:=a*b
кон

|#%%
алг цел @тестирование
нач
цел x, y, ширина, высота, длина
длина := Площадь поля
если длина <> int(@@температура(1,1))то
вывод "Задание не выполнено: неверно определена площадь поля"
знач:=0
выход
все
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1002.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_10_B_1002 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_10_C_1003(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 10-C (ID: 1003)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на пустом поле.
надо | Закрасить отмеченные клетки по краям поля
| и привести Робота в начальную клетку.
| Используйте вспомогательный алгоритм, который
| вычисляет площадь поля.
нач
цел пл
пл := Площадь поля
вывод "Площадь поля ", пл
кон
| вспомогательный алгоритм с результатом
алг цел Площадь поля
нач
цел a, b, m, n
m:=0
нц пока справа свободно
вправо
m:=m+1
кц
n:=0
нц пока сверху свободно
вверх
n:=n+1
кц
a:=1
нц пока слева свободно
влево
закрасить
a:=a+1
кц
b:=1
нц пока снизу свободно
вниз
закрасить
b:=b+1
кц
нц пока справа свободно
вправо
закрасить
кц
нц пока сверху свободно
вверх
закрасить
кц
нц n раз
вниз
кц
нц m раз
влево
кц
знач:=a*b
кон

|#%%
алг цел @тестирование
нач
цел x, y, ширина, высота, длина
длина := Площадь поля
если длина <> int(@@температура(1,1))то
вывод "Задание не выполнено: неверно определена площадь поля"
знач:=0
выход
все
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1003.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_10_C_1003 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_10_D_1004(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 10-D (ID: 1004)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Поле состоит из двух прямоугольников,
| правые границы которых находятся
| на одной линии. Робот стоит где-то в 
| нижнем (большом) прямоугольнике.
надо | Закрасить отмеченные клетки по 
| контуру поля и привести Робота  
| в начальную клетку.
| Используйте вспомогательный алгоритм, 
| который выполняет это задание и 
| вычисляет количество закрашенных клеток.
нач
цел клетки
клетки := Закрашенных клеток
вывод "Закрашено клеток: ", клетки
кон
| вспомогательный алгоритм с результатом
алг цел Закрашенных клеток
нач
цел n=0
нц пока снизу свободно; вниз; кц
нц пока справа свободно; вправо; кц
нц пока слева свободно; влево; закрасить; n:=n+1; кц
нц пока сверху свободно; вверх; закрасить; n:=n+1; кц
нц пока сверху стена; вправо; закрасить; n:=n+1; кц
нц пока сверху свободно; вверх; закрасить; n:=n+1; кц
нц пока справа свободно; вправо; закрасить; n:=n+1; кц
нц пока снизу свободно; вниз; закрасить; n:=n+1; кц
знач:=n
кон

|#%%
алг цел @тестирование
нач
цел x, y, ширина, высота, длина
длина := Закрашенных клеток
если длина <> int(@@температура(1,1))то
вывод "Задание не выполнено: неверно определен периметр поля"
знач:=0
выход
все
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1004.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_10_D_1004 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_10_E_1005(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 10-E (ID: 1005)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле, которое разделено на две части 
| фигурной стенкой, причем нижняя граница поля
| свободна и все клетки, доступные Роботу,
| просматриваются с нижней границы.
надо | Закрасить все клетки, доступные Роботу,
| и привести Робота в правый нижний угол поля.
| Используйте вспомогательный алгоритм, который
| вычисляет площадь доступной части поля.
нач
цел пл
пл := Площадь поля
вывод "Площадь поля ", пл
кон
| вспомогательный алгоритм с результатом
алг цел Площадь поля
нач
цел a
нц пока снизу свободно
вниз
кц
нц пока слева свободно
влево
кц
a:=0
нц пока справа свободно
a:=a+Ряд
вправо
кц
знач:=a + Ряд
кон
| Обработка вертикального рядя клеток
алг цел Ряд
нач 
цел a = 1
закрасить
нц пока сверху свободно
вверх
закрасить
a:=a+1
кц
нц пока снизу свободно
вниз
кц
знач:=a
кон

|#%%
алг цел @тестирование
нач
цел x, y, ширина, высота, длина
длина := Площадь поля
если длина <> int(@@температура(1,1))то
вывод "Задание не выполнено: неверно определена площадь поля"
знач:=0
выход
все
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1005.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_10_E_1005 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_11_A_1101(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 11-A (ID: 1101)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл с переменной.
нач
цел i
нц для i от 1 до 7
нц i раз
влево
закрасить
кц
нц i раз
вправо
кц
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1101.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_11_A_1101 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_11_B_1102(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 11-B (ID: 1102)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл с переменной.
нач
цел i
нц 5 раз
вправо
кц
нц для i от 1 до 5
нц i раз
влево
закрасить
кц
нц i раз
вправо
кц
вниз
кц
влево
нц для i от 5 до 1 шаг -1
нц i раз
вправо
закрасить
кц
нц i раз
влево
кц
вниз
кц
вправо
нц 6 раз
вверх
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1102.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_11_B_1102 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_11_C_1103(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 11-C (ID: 1103)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл с переменной.
нач
цел i
нц для i от 9 до 1 шаг -2
вверх
нц i раз
закрасить
вправо
кц
нц i-1 раз
влево
кц
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1103.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_11_C_1103 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_11_D_1104(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 11-D (ID: 1104)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте цикл с переменной.
нач
цел i
влево
вверх
вверх
нц для i от 8 до 2 шаг -2
нц i раз
вправо
вниз
закрасить
кц
нц i раз
вверх
влево
кц
вправо
вправо
кц
вниз
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1104.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_11_D_1104 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_12_A_1201(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 12-A (ID: 1201)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте алгоритм с параметром.
нач
цел i
вниз
вниз
вправо
нц для i от 5 до 1 шаг -2
Ряд(i)
вправо
вправо
вверх
кц
вниз
вниз
Ряд(3)
вправо
вправо
вниз
Ряд(5)
вправо
нц 5 раз
вверх
кц
кон
алг Ряд (цел длина)
нач
нц длина раз
вверх
закрасить
кц
нц длина раз
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1201.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_12_A_1201 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_12_B_1202(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 12-B (ID: 1202)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте алгоритм с параметром.
нач
вниз
вправо
цел д
нц для д от 3 до 6
Сапог(д)
вправо
кц
нц 6 раз
вверх
кц
кон
алг Сапог (цел длина)
нач
нц длина раз
вверх
закрасить
кц
вправо
закрасить
нц длина раз
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1202.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_12_B_1202 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_12_C_1203(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 12-C (ID: 1203)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте алгоритм с параметром.
нач
Квадрат(3)
вниз
вправо
Квадрат(2)
нц 3 раз
вправо
кц
нц 4 раз
вверх
кц
Квадрат(4)
нц 5 раз
вправо
кц
вверх
кон
алг Квадрат (цел сторона)
нач
нц сторона раз
нц сторона раз
вправо
закрасить
кц
нц сторона раз
влево
кц
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1203.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_12_C_1203 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robokum_12_D_1204(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 12-D (ID: 1204)
    Курс: robokum
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот на поле.
надо | Закрасить все отмеченные клетки
| и привести Робота на Базу.
| Используйте алгоритм с параметром.
нач
Птичка(4)
влево
нц 6 раз
вверх
кц
Птичка(3)
влево
влево
нц 6 раз
вверх
кц
Птичка(5)
вправо
нц 5 раз
вверх
кц
кон
алг Птичка(цел размер)
нач
цел i
нц для i от размер до 1 шаг -1
нц i раз
вправо
закрасить
кц
нц i-1 раз
влево
кц
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
если @@нижняя буква (x,y) <> 'Б' то 
вывод "Задание не выполнено: Робот не пришёл на Базу.", нс
знач := 0
выход
все
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_1204.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robokum_12_D_1204 выполнен. Вывод: {result.stdout_output[:100]}")

