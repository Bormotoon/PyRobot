import pytest  # type: ignore
import os
import sys
from io import StringIO

from pyrobot.backend.kumir_interpreter.runtime_utils import interpret_kumir
from pyrobot.backend.kumir_interpreter.kumir_exceptions import KumirSyntaxError, KumirEvalError

# Определяем директорию с примерами КуМир относительно текущего файла
current_dir = os.path.dirname(os.path.abspath(__file__))
# Исправляем путь на tests/polyakov_kum
PROGRAMS_DIR = os.path.join(current_dir, "polyakov_kum")

from typing import List, Tuple, Optional

TEST_CASES: List[Tuple[str, Optional[str], Optional[str]]] = [
    ('1-empty.kum', None, ''),
    ('2-2+2.kum', None, '2+2=?\nОтвет: 4\n'),
    ('3-a+b.kum', '2\n3\n', '2 3\n5\n'),
    ('4-a+b.kum', '10\n20\n', 'Введите два целых числа: 10 20\n10+20=30\n'),
    ('6-format.kum', None, '>  123<\n1.2345678\n>  1.235<\n'),
    ('7-rand.kum', None, None),
    ('8-if.kum', '5\n7\n', 'Введите два целых числа: 5 7\nМаксимальное число:\n7\n7\n7\n7\n'),
    ('9-if.kum', '-3\n5\n', 'Введите возраст Андрея и Бориса: -3 5\nБорис старше\n'),
    ('10-and.kum', '27\n', "Введите возраст: 27\nподходит\n"),
    ('11-switch.kum', '2\n', 'Введите номер месяца: 2\nфевраль\n'),
    ('12-switch.kum', '7\n', '7\n1\n'),
    ('13-loopN.kum', '5\n', 'Сколько раз сделать? 5\nпривет\nпривет\nпривет\nпривет\nпривет\n'),
    ('14-while.kum', '5\n', 'Сколько раз сделать? 5\nпривет\nпривет\nпривет\nпривет\nпривет\n'),
    ('15-while.kum', '12345\n', "Введите целое число: 12345\nЦифр в числе: 5\n"),
    ('16-repeat.kum', '-1\n0\n2\n', 'Введите целое положительное число: -1\n0\n2\nВведено число 2\n  и до него 2 ошибочных значений(я)\n'),
    ('17-for.kum', '5\n', '5\n2 4 8 16 32 \n'),
    ('18-downto.kum', '5\n', '5\n32 16 8 4 2 \n'),
    ('19-prime.kum', '17\n', 'Введите максимальное число: 17\nПростые числа: 2 3 5 7 11 13 17 \n'),
    ('20-proc-err.kum', '-1\n', '-1\nОшибка программы\n'),
    ('21-proc-bin.kum', '13\n', 'Введите натуральное число: 13\nДвоичный код: 00001101\n'),
    ('1-primes.kum', '100\n', 'Введите максимальное число: 100\nПростые числа от 2 до 100:\n2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 \n'),
    ('2-longnum.kum', None, 'Факториал числа 100:\n93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000\n'),
    ('22-swap.kum', '2\n3\n', 'Введите два целых числа: 2 3\nПосле обмена: x=3 y=2\n'),
    ('23-func-sumdig.kum', '12345\n', 'Введите целое число: 12345\nСумма цифр 15\n'),
    ('24-func-prime.kum', '15\n', 'Введите максимальное число: 15\nПростые числа: 2 3 5 7 11 13 \n'),
    ('25-func-prime.kum', '5\n7\n12\n', 'Введите число: 5\n5 - простое число\nВведите число: 7\n7 - простое число\nВведите число: 12\n'),
    ('26-rec-hanoi.kum', None, '1 -> 3\n1 -> 2\n3 -> 2\n1 -> 3\n2 -> 1\n2 -> 3\n1 -> 3\n'),
    ('27-rec-bin.kum', '99\n', 'Введите натуральное число: 99\nДвоичный код 1100011\n'),
    ('28-rec-sumdig.kum', '12345\n', 'Введите натуральное число: 12345\nСумма цифр 15\n'),
    ('29-rec-nod.kum', '14\n21\n', 'Введите два натуральных числа: 14 21\nНОД(14,21)=7\n'),
    ('30-rec-fact.kum', '4\n', 'Введите натуральное число: 4\n-> N=4\n-> N=3\n-> N=2\n-> N=1\n<- N=1\n<- N=2\n<- N=3\n<- N=4\n24\n'),
    ('31-arr-empty.kum', None, ''),
    ('32-arr-kvad.kum', '9\n', 'Введите размер массива: 9\n1 4 9 16 25 36 49 64 81 \n'),
    ('33-arr-input.kum', '4\n9\n-2\n0\n1\n', 'Введите размер массива: 4\nВведите элементы массива:\nA[1]=9\nA[2]=-2\nA[3]=0\nA[4]=1\nМассив задом наперёд: \n1 0 -2 9 \n'),
    ('34-arr-rand.kum', '8\n', None),
    ('35-arr-sum.kum', '7\n180\n185\n100\n200\n170\n188\n190\n', 'Введите размер массива:\n7\nВведите элементы массива:\n180\n185\n100\n200\n170\n188\n190\nЭлементы 180 < x < 190:\nКоличество: 2\nСумма:      373\nСреднее:    186.5\n'),
    ('36-arr-search.kum', '6\n-3\n3\n0\n2\n12\n-45\n0\n', 'Введите размер массива: 6\nВведите элементы массива: \n-3\n3\n0\n2\n12\n-45\nЧто ищем? 0\nA[3]=0\n'),
    ('37-arr-search.kum', '7\n-3\n-2\n-1\n0\n1\n2\n3\n1\n', 'Введите размер массива: 7\nВведите элементы массива: \n-3\n-2\n-1\n0\n1\n2\n3\nЧто ищем? 1\nA[5]=1\n'),
    ('39-arr-rev.kum', '7\n-2\n-1\n0\n1\n2\n3\n4\n', 'Введите размер массива: 7\nВведите элементы массива: \n-2\n-1\n0\n1\n2\n3\n4\nПосле реверса:\n4 3 2 1 0 -1 -2 \n'),
    ('40-arr-shift.kum', '5\n-3\n-2\n0\n2\n3\n', 'Введите размер массива: 5\nВведите элементы массива: \n-3\n-2\n0\n2\n3\nПосле сдвига влево:\n-2 0 2 3 -3 \n'),
    ('42-arr-bsort.kum', '4\n-12\n0\n3\n1\n', 'Введите размер массива: 4\nВведите элементы массива:\n-12\n0\n3\n1\nПосле сортировки:\n-12 0 1 3 \n'),
    ('42a-arr-bsort.kum', '6\n-12\n43\n11\n0\n-3\n-5412\n', 'Введите размер массива: 6\nВведите элементы массива:\n-12\n43\n11\n0\n-3\n-5412\nПосле сортировки:\n-5412 -12 -3 0 11 43 \n'),
    ('43-arr-msort.kum', '5\n-1\n8\n4\n5\n-21\n', 'Введите размер массива: 5\nВведите элементы массива: \n-1\n8\n4\n5\n-21\nПосле сортировки:\n-21 -1 4 5 8 \n'),
    ('44-arr-qsort.kum', None, 'До сортировки:\n78 6 82 67 55 44 34 \nПосле сортировки:\n6 34 44 55 67 78 82 \n'),
    ('46-str-ab.kum', 'ааабббвввгггдддееежжж\n', 'ааабббвввгггдддееежжж\nббббббвввгггдддееежжж\n'),
    ('47-str-ops.kum', None, 'Привет, Вася!\n34567\n129\n12ABC3456789\n'),
    ('48-str-search.kum', None, 'Номер символа 4\n'),
    ('49-str-complex.kum', 'Николай Ильич Щитфаков\n', 'Введите имя, отчество и фамилию:Николай Ильич Щитфаков\nЩитфаков Н. И.\n'),
    ('50-str-num.kum', None, '246\n246.912\n123\n123.456\n'),
    ('51-str-proc.kum', None, 'A12B.A12B.A12B\n'),
    ('52-str-func.kum', None, 'A12B.A12B.A12B\n'),
    ('53-str-rec.kum', None, 'ЫЫЫ\nЫЫШ\nЫЫЧ\nЫЫО\nЫШЫ\nЫШШ\nЫШЧ\nЫШО\nЫЧЫ\nЫЧШ\nЫЧЧ\nЫЧО\nЫОЫ\nЫОШ\nЫОЧ\nЫОО\nШЫЫ\nШЫШ\nШЫЧ\nШЫО\nШШЫ\nШШШ\nШШЧ\nШШО\nШЧЫ\nШЧШ\nШЧЧ\nШЧО\nШОЫ\nШОШ\nШОЧ\nШОО\nЧЫЫ\nЧЫШ\nЧЫЧ\nЧЫО\nЧШЫ\nЧШШ\nЧШЧ\nЧШО\nЧЧЫ\nЧЧШ\nЧЧЧ\nЧЧО\nЧОЫ\nЧОШ\nЧОЧ\nЧОО\nОЫЫ\nОЫШ\nОЫЧ\nОЫО\nОШЫ\nОШШ\nОШЧ\nОШО\nОЧЫ\nОЧШ\nОЧЧ\nОЧО\nООЫ\nООШ\nООЧ\nООО\n'),
    ('54-str-sort.kum', '5\nпароход\nпаровоз\nпар\nПар\nпАр\n', 'Введите количество строк: 5\nВведите строки: \nпароход\nпаровоз\nпар\nПар\nпАр\nПосле сортировки: \nПар\nпАр\nпар\nпаровоз\nпароход\n'),
    ('55-matr-declare.kum', None, ''),
    ('56-matr-rand.kum', None, None),
    ('57-matr-sum.kum', None, 'Матрица: \n2 3 4 5 \n3 4 5 6 \n4 5 6 7 \nСумма элементов 54\n'),
]


def run_kumir_program(program_path: str, input_data: str | None = None) -> str:
    """
    Запускает программу КуМир и возвращает её стандартный вывод.

    Args:
        program_path (str): Путь к файлу программы .kum
        input_data (str, optional): Строка с входными данными. Defaults to None.

    Returns:
        str: Стандартный вывод программы.
    """
    original_stdin = sys.stdin
    original_stdout = sys.stdout
    original_stderr = sys.stderr  # Сохраняем оригинальный stderr

    input_buffer = StringIO(input_data if input_data else "")
    # output_buffer больше не нужен здесь для redirect_stdout
    # output_buffer = StringIO()

    # print(f"[DEBUG_RUN_KUMIR_PROGRAM] BEFORE (no redirect). output_buffer concept removed", file=original_stderr)

    actual_output_value = ""  # Переименуем, чтобы не путать с переменной теста

    try:
        with open(program_path, 'r', encoding='utf-8') as f:
            code = f.read()
            code = code.replace('\r\n', '\n').replace('\r', '\n')        # Устанавливаем stdin
        sys.stdin = input_buffer

        # interpret_kumir сам захватывает stdout и возвращает его.
        # Внешнее перенаправление через redirect_stdout(output_buffer) не нужно
        # и приводило к тому, что output_buffer оставался пустым.
        actual_output_value = interpret_kumir(code, input_data)        # DEBUG PRINT ПОСЛЕ ВЫЗОВА INTERPRET_KUMIR
        print(f"[DEBUG_RUN_KUMIR_PROGRAM] interpret_kumir returned:\n>>>\n{actual_output_value}\n<<<", file=original_stderr)
    except KumirSyntaxError as e:
        pytest.fail(f"KumirSyntaxError for {program_path}: {e}")
    except KumirEvalError as e:
        actual_output_value += f"\nОШИБКА ВЫПОЛНЕНИЯ: {e}\n"
        pytest.fail(f"KumirEvalError for {program_path}: {e}")
    except Exception as e:
        print(f"--- НЕПРЕДВИДЕННАЯ ОШИБКА {os.path.basename(program_path)} ---", file=original_stderr)
        import traceback
        traceback.print_exc(file=original_stderr)
        pytest.fail(f"Unexpected exception for {program_path}: {e}")
    finally:
        sys.stdin = original_stdin
        sys.stdout = original_stdout
        sys.stderr = original_stderr

    # --- DEBUG PRINT ПОСЛЕ try/finally ---
    # print(f"[DEBUG_RUN_KUMIR_PROGRAM] AFTER try/finally. actual_output_value is: ({len(actual_output_value)} chars)\n>>>\n{actual_output_value}\n<<<", file=original_stderr)

    # actual_output теперь это то, что вернул interpret_kumir
    # actual_output = output_buffer.getvalue() # Эта строка больше не нужна

    # DEBUG PRINT ДЛЯ ACTUAL_OUTPUT (который теперь actual_output_value)
    # print(f"[DEBUG_RUN_KUMIR_PROGRAM] actual_output (from interpret_kumir) is ({len(actual_output_value)} chars):\n>>>\n{actual_output_value}\n<<<", file=original_stderr)

    # Нормализация конца строки, если нужно (оставляем эту логику)
    if actual_output_value and not actual_output_value.endswith('\n'):
        actual_output_value += '\n'
    return actual_output_value


@pytest.mark.parametrize("program,input_data,expected_output", TEST_CASES)
def test_kumir_program(
    program: str,
    input_data: str | None,
    expected_output: str | None
) -> None:
    """
    Тестирует выполнение программы на КуМире.

    Args:
        program (str): Имя файла программы
        input_data (str): Входные данные (если нужны)
        expected_output (str): Ожидаемый вывод
    """
    program_path = os.path.join(PROGRAMS_DIR, program)
    assert os.path.exists(program_path), f"Файл программы не найден: {program}"

    actual_output = ""  # Инициализируем actual_output
    try:
        actual_output = run_kumir_program(program_path, input_data)
        if expected_output is not None:
            assert actual_output == expected_output, \
                f"Неверный вывод для {program}:\nОжидалось:\n{expected_output}\nПолучено:\n{actual_output}"
    except KumirSyntaxError as e:
        pytest.fail(f"KumirSyntaxError for {program_path}: {e}")
    except KumirEvalError as e:
        pytest.fail(f"KumirEvalError for {program_path}: {e}")
    except Exception as e:
        pytest.fail(f"Unexpected exception for {program_path}: {e}")
    if expected_output is not None and "ОШИБКА ВЫПОЛНЕНИЯ" not in actual_output:
        assert actual_output == expected_output, \
            f"Неверный вывод для {program}:\nОжидалось:\n{expected_output}\nПолучено:\n{actual_output}"

# Автогенерированные тесты для курса: robot9oge
# Сгенерировано: 2025-06-08 22:42:30

def test_robot9oge_1_A_101(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-А (ID: 101)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот находится в верхней клетке узкого 
     | вертикального коридора. Ширина коридора - 
     | одна клетка, длина коридора может быть 
     | произвольной.
надо | Закрасить все клетки в коридоре
нач
закрасить
нц пока снизу свободно
вниз
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_101.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_1_A_101 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_1_B_102(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-B (ID: 102)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот находится в нижней клетке узкого 
     | вертикального коридора. Ширина коридора - 
     | одна клетка, длина коридора может быть 
     | произвольной.
надо | Закрасить все клетки в коридоре
нач
закрасить
нц пока сверху свободно
вверх
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_102.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_1_B_102 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_1_C_103(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-C (ID: 103)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот находится в одной из клеток узкого 
     | вертикального коридора. Ширина коридора - 
     | одна клетка, длина коридора может быть 
     | произвольной.
надо | Закрасить все клетки в коридоре
нач
нц пока сверху свободно
вверх
кц
закрасить
нц пока снизу свободно
вниз
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_103.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_1_C_103 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_1_D_104(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-D (ID: 104)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот находится в левой клетке узкого 
     | горизонтального коридора. Ширина коридора - 
     | одна клетка, длина коридора может быть 
     | произвольной.
надо | Закрасить все клетки в коридоре
нач
закрасить
нц пока справа свободно
вправо
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_104.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_1_D_104 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_1_E_105(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-E (ID: 105)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот находится в правой клетке узкого 
     | горизонтального коридора. Ширина коридора - 
     | одна клетка, длина коридора может быть 
     | произвольной.
надо | Закрасить все клетки в коридоре
нач
закрасить
нц пока слева свободно
влево
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_105.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_1_E_105 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_1_F_106(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 1-F (ID: 106)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | Робот находится в одной из клеток узкого 
     | горизонтального коридора. Ширина коридора - 
     | одна клетка, длина коридора может быть 
     | произвольной.
надо | Закрасить все клетки в коридоре
нач
нц пока справа свободно
вправо
кц
закрасить
нц пока слева свободно
влево
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_106.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_1_F_106 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_A_201(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-A (ID: 201)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна горизонтальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток над стеной.
надо | Закрасить все клетки, расположенные выше 
     | стены непосредственно над ней.
нач
нц пока снизу свободно
вниз
кц
нц пока не снизу свободно
вправо
кц
влево
нц пока не снизу свободно
закрасить
влево
кц 
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_201.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_A_201 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_B_202(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-B (ID: 202)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна горизонтальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток над стеной.
надо | Закрасить все клетки, расположенные ниже 
     | стены непосредственно под ней.
нач
нц пока снизу свободно
вниз
кц
нц пока не снизу свободно
вправо
кц
вниз
влево
нц пока не сверху свободно
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_202.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_B_202 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_C_203(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-C (ID: 203)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна горизонтальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток над стеной.
надо | Закрасить все клетки, расположенные ниже 
     | стены непосредственно под ней.
нач
нц пока сверху свободно
вверх
кц
нц пока не сверху свободно
вправо
кц
вверх
влево
нц пока не снизу свободно
закрасить
влево
кц 
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_203.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_C_203 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_D_204(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-D (ID: 204)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна горизонтальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток под стеной.
надо | Закрасить все клетки, расположенные ниже 
     | стены непосредственно под ней.
нач
нц пока сверху свободно
вверх
кц
нц пока не сверху свободно
вправо
кц
влево
нц пока не сверху свободно
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_204.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_D_204 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_E_205(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-E (ID: 205)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна вертикальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток справа от стены.
надо | Закрасить все клетки, расположенные с двух сторон 
     | рядом со стеной.
нач
нц пока слева свободно
влево
кц
нц пока не слева свободно
вниз
кц
вверх
нц пока не слева свободно
закрасить 
вверх
кц
влево
вниз
нц пока не справа свободно
закрасить
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_205.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_E_205 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_F_206(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-F (ID: 206)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна вертикальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток слева от стены.
надо | Закрасить все клетки, расположенные с двух сторон 
     | рядом со стеной.
нач
нц пока справа свободно
вправо
кц
нц пока не справа свободно
вниз
кц
вверх
нц пока не справа свободно
закрасить 
вверх
кц
вправо
вниз
нц пока не слева свободно
закрасить
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_206.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_F_206 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_2_G_207(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 2-G (ID: 207)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть одна горизонтальная 
     | стена неизвестной длины. Робот находится в 
     | одной из клеток прямо над стеной.
надо | Закрасить все клетки, расположенные выше стены
     | на расстоянии одной пустой клетки.
нач
нц пока не снизу свободно
влево
кц
вправо
нц пока не снизу свободно
вверх
закрасить
вниз
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_207.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_2_G_207 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_3_A_301(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-A (ID: 301)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются две вертикальные стены 
     | одинаковой длины, расположенные точно одна напротив 
     | другой, и одна горизонтальная, соединяющая верхние
     | концы стен. Длина стен неизвестна. Расстояние между 
     | стенами неизвестно. Робот находится справа от 
     | первой стены в клетке, расположенной у её нижнего края.
надо | Закрасить все клетки самого верхнего ряда, 
     | расположенные между стенами.
нач
нц пока сверху свободно
вверх
кц
закрасить
нц пока справа свободно
вправо
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_301.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_3_A_301 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_3_B_302(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-B (ID: 302)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются две вертикальные стены 
     | одинаковой длины, расположенные точно одна напротив 
     | другой, и одна горизонтальная, соединяющая нижние концы
     | стен. Длина стен неизвестна. Расстояние между 
     | стенами неизвестно. Робот находится в одной из
     | клеток, расположенных между верхними концами
     | вертикальных стен. 
надо | Закрасить все клетки ниже горизонтальной стены, 
     | расположенные непосредственно под ней.
нач
нц пока справа свободно
вправо
кц
вверх
вправо
вниз
нц пока не слева свободно
вниз
кц
влево
нц пока не сверху свободно
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_302.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_3_B_302 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_3_C_303(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-C (ID: 303)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется горизонтальная стена. 
     | Длина стены неизвестна. От правого конца стены 
     | вниз отходит вертикальная стена также неизвестной 
     | длины. От нижнего конца этой стены отходит влево 
     | вторая горизонтальная стена неизвестной длины. 
     | Робот находится в клетке, расположенной снизу
     | от левого края первой горизонтальной стены. 
надо | Закрасить клетку, на которой находится Робот 
     | первоначально, и клетки, расположенные сверху 
     | от второй горизонтальной стены.
нач
закрасить
нц пока справа свободно
вправо
кц
нц пока снизу свободно
вниз
кц
нц пока не снизу свободно
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_303.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_3_C_303 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_3_D_304(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-D (ID: 304)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется горизонтальная стена. 
     | Длина стены неизвестна. От левого конца стены 
     | вниз отходит вертикальная стена также неизвестной
     | длины. От нижнего конца этой стены отходит вправо 
     | вторая горизонтальная стена неизвестной длины. 
     | Робот находится в клетке, расположенной сверху
     | от левого края второй горизонтальной стены. 

надо | Закрасить клетки, расположенные ниже первой 
     | горизонтальной стены, и угловую клетку, 
     | расположенную на пересечении вертикальной и 
     | первой горизонтальной стен.
нач
нц пока слева свободно
влево
кц
закрасить
нц пока сверху свободно
вверх
кц
нц пока не сверху свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_304.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_3_D_304 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_3_E_305(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-E (ID: 305)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется горизонтальная стена. 
     | Длина стены неизвестна. От левого конца стены 
     | вниз отходит вертикальная стена также неизвестной
     | длины. От нижнего конца этой стены отходит вправо 
     | вторая горизонтальная стена неизвестной длины. 
     | Робот находится в клетке, расположенной сверху
     | от левого края второй горизонтальной стены. 

надо | Закрасить клетки, расположенные ниже первой 
     | горизонтальной стены, и угловую клетку, 
     | расположенную на пересечении вертикальной и 
     | первой горизонтальной стен.
нач
нц пока снизу свободно
вниз
кц
нц пока справа свободно
вправо
кц
нц пока не справа свободно
вверх
кц
вправо
нц пока снизу свободно
вниз
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_305.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_3_E_305 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_3_F_306(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 3-F (ID: 306)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется стена, длины отрезков 
     | cтены неизвестны. Стена состоит из одного 
     | вертикального и трёх горизонтальных отрезков 
     | (отрезки стены расположены буквой "Е"). Все отрезки 
     | неизвестной длины. Робот находится в клетке, расположенной 
     | непосредственно снизу от правого конца нижнего 
     | горизонтального отрезка. 
надо | Закрасить все клетки, расположенные непосредственно 
     | сверху от верхнего горизонтального отрезка.
нач
нц пока не сверху свободно
влево
кц
вверх
нц пока не справа свободно
вверх
кц
вправо
нц пока не снизу свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_306.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_3_F_306 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_4_A_401(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-A (ID: 401)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются 4 стены, расположенные 
     | в форме прямоугольника. Длины вертикальных и 
     | горизонтальных стен неизвестны. Робот находится в 
     | клетке, расположенной в левом верхнем углу 
     | прямоугольника. 
надо | Закрасить все клетки расположенные с внутренней 
     | стороны верхней и нижней стен. 
нач
закрасить
нц пока справа свободно
вправо
закрасить
кц
нц пока снизу свободно
вниз
кц
закрасить
нц пока слева свободно
влево
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_401.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_4_A_401 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_4_B_402(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-B (ID: 402)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются 4 стены, расположенные 
     | в форме прямоугольника. Длины вертикальных и 
     | горизонтальных стен неизвестны. Робот находится в 
     | клетке, расположенной в правом верхнем углу 
     | прямоугольника. 
надо | Закрасить все клетки расположенные с внутренней 
     | стороны верхней и левой стен. 
нач
нц пока снизу свободно
вниз
кц
закрасить
нц пока слева свободно
влево
закрасить
кц
нц пока сверху свободно
вверх
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_402.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_4_B_402 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_4_C_403(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-C (ID: 403)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется вертикальная стена. 
     | Длина стены неизвестна. От верхнего конца стены 
     | вправо отходит горизонтальная стена также неизвестной 
     | длины. Робот находится в клетке, расположенной слева 
     | от нижнего края вертикальной стены. 
надо | Закрасить все клетки расположенные левее вертикальной 
     | стены и выше горизонтальной стены и прилегающие к ним. 
нач
нц пока не справа свободно
закрасить
вверх
кц
закрасить
вправо
нц пока не снизу свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_403.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_4_C_403 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_4_D_404(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-D (ID: 404)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется стена. Стена состоит 
     | из трёх последовательных отрезков: вправо, вниз, 
     | вправо, все отрезки неизвестной длины. Робот находится 
     | в клетке, расположенной непосредственно сверху 
     | левого конца первого отрезка. 
надо | Закрасить все клетки расположенные непосредственно 
     | правее второго отрезка и над третьим. 
нач
нц пока не снизу свободно
вправо
кц
нц пока снизу свободно
вниз
закрасить
кц
вправо
нц пока не снизу свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_404.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_4_D_404 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_4_E_405(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-E (ID: 405)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется стена. Стена состоит 
     | из трёх последовательных отрезков: вправо, вниз, 
     | вправо, все отрезки неизвестной длины. Робот находится 
     | в клетке, расположенной непосредственно сверху 
     | левого конца первого отрезка. 
надо | Закрасить все клетки расположенные непосредственно 
     | правее второго отрезка и над третьим. 
нач
нц пока не сверху свободно
вправо
кц
влево
нц пока не сверху свободно
закрасить
влево
кц
вправо
нц пока снизу свободно
вниз
кц
влево
вниз
вправо
нц пока не сверху свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_405.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_4_E_405 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_4_F_406(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 4-F (ID: 406)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется вертикальная стена. 
     | Длина стены неизвестна. От нижнего конца стены вправо 
     | отходит горизонтальная стена также неизвестной длины. 
     | Робот находится в клетке, расположенной слева от 
     | вертикальной стены и выше горизонтальной стены.
надо | Закрасить все клетки, расположенные правее 
     | вертикальной стены, выше горизонтальной стены и 
     | примыкающие к ним, кроме угловой клетки. 
нач
нц пока справа свободно
вправо
кц
нц пока не справа свободно
вверх
кц
вправо
вниз
нц пока снизу свободно
закрасить
вниз
кц
вправо
нц пока не снизу свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_406.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_4_F_406 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_5_A_501(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-A (ID: 501)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть горизонтальная и вертикальная стены. 
     | Правый конец горизонтальной стены соединён с нижним 
     | концом вертикальной стены. Длины стен неизвестны. 
     | В каждой стене есть ровно один проход, точное место 
     | прохода и его ширина неизвестны. Робот находится 
     | в клетке, расположенной непосредственно слева от 
     | горизонтальной стены у её верхнего конца.
надо | Закрасить все клетки, расположенные 
     | непосредственно слева от вертикальной стены и выше 
     | горизонтальной стены. Проходы должны остаться 
     | незакрашенными. 
нач
нц пока не справа свободно
закрасить
вниз
кц
нц пока справа свободно
вниз
кц
закрасить
нц пока снизу свободно
вниз
закрасить
кц
влево
нц пока не снизу свободно
закрасить
влево
кц
нц пока снизу свободно
влево
кц
нц пока не снизу свободно
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_501.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_5_A_501 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_5_B_502(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-B (ID: 502)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть горизонтальная и вертикальная стены. 
     | Правый конец горизонтальной стены соединён с верхним 
     | концом вертикальной стены. Длины стен неизвестны. 
     | В каждой стене есть ровно один проход, точное место 
     | прохода и его ширина неизвестны. Робот находится 
     | в угловой клетке.
надо | Закрасить все клетки, расположенные 
     | непосредственно сверху от горизонтальной стены и справа 
     | от вертикальной стены. Проходы должны остаться 
     | незакрашенными. 
нач
нц пока не сверху свободно
влево
кц
нц пока сверху свободно
влево
кц
нц пока не сверху свободно
влево
кц
вверх
вправо
нц пока не снизу свободно
закрасить
вправо
кц
нц пока снизу свободно
вправо
кц
нц пока не снизу свободно
закрасить
вправо
кц
вниз
нц пока не слева свободно
закрасить
вниз
кц
нц пока слева свободно
вниз
кц
нц пока не слева свободно
закрасить
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_502.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_5_B_502 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_5_C_503(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-C (ID: 503)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть горизонтальная и вертикальная стены. 
     | Левый конец горизонтальной стены соединён с нижним 
     | концом вертикальной стены. Длины стен неизвестны. 
     | В вертикальной стене есть ровно один проход, точное место 
     | прохода и его ширина неизвестны. Робот находится 
     | в клетке, расположенной непосредственно под 
     | горизонтальной стеной у её правого конца.
надо | Закрасить все клетки, расположенные 
     | непосредственно слева и справа от вертикальной стены.
     | Проход должен остаться незакрашенным. 
нач
нц пока не сверху свободно
влево
кц
вверх
нц пока не справа свободно
закрасить
вверх
кц
нц пока справа свободно
вверх
кц
нц пока не справа свободно
закрасить
вверх
кц
вправо
вниз
нц пока не слева свободно
закрасить
вниз
кц
нц пока слева свободно
вниз
кц
вверх
нц пока снизу свободно
вниз
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_503.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_5_C_503 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_5_D_504(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-D (ID: 504)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле есть горизонтальная и вертикальная стены. 
     | Левый конец горизонтальной стены соединён с верхним 
     | концом вертикальной стены. Длины стен неизвестны. 
     | В горизонтальной стене есть ровно один проход, точное место 
     | прохода и его ширина неизвестны. Робот находится 
     | в клетке, расположенной непосредственно справа 
     | от вертикальной стены у её нижнего конца.
надо | Закрасить все клетки, расположенные 
     | непосредственно сверху и снизу от горизонтальной стены.
     | Проход должен остаться незакрашенным. 
нач
нц пока сверху свободно
вверх
кц
нц пока не сверху свободно
закрасить
вправо
кц
нц пока сверху свободно
вправо
кц
нц пока не сверху свободно
закрасить
вправо
кц
вверх
влево
нц пока не снизу свободно
закрасить
влево
кц
нц пока снизу свободно
влево
кц
нц пока не снизу свободно
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_504.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_5_D_504 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_5_E_505(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-E (ID: 505)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется стена, длины отрезков 
     | стены неизвестны. Стена состоит из двух вертикальных 
     | и соединяющего их горизонтального отрезков (отрезки 
     | стены расположены "буквой П"). В горизонтальном участке 
     | есть ровно один проход, место и длина прохода 
     | неизвестны. Робот находится в клетке, расположенной 
     | над левым концом горизонтального отрезка стены.
надо | Закрасить все клетки, расположенные 
     | над горизонтальным отрезком стены справа от прохода, 
     | и все клетки, расположенные с внешней стороны от 
     | правого вертикального участка стены. 
нач
нц пока не снизу свободно
вправо
кц
нц пока снизу свободно
вправо
кц
нц пока не снизу свободно
закрасить
вправо
кц
вниз
нц пока не слева свободно
закрасить
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_505.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_5_E_505 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_5_F_506(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 5-F (ID: 506)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются четыре стены, 
     | соединённые между собой, которые образуют прямоугольник. 
     | Длины стен неизвестны. В левой вертикальной стене есть 
     | ровно один проход, в нижней горизонтальной стене также 
     | есть ровно один проход. Проход не может примыкать к углу 
     | прямоугольника. Точные места проходов и ширина проходов 
     | неизвестны. Робот находится около нижнего конца левой 
     | вертикальной стены, снаружи прямоугольника и выше нижней стены.
надо | Закрасить все клетки, расположенные вдоль стен прямоугольника 
     | с внутренней стороны. Проходы должны остаться незакрашенными. 
нач
нц пока не справа свободно
вверх
кц
вправо
нц пока слева свободно
вверх
кц
нц пока сверху свободно
закрасить
вверх
кц
нц пока справа свободно
закрасить
вправо
кц
нц пока снизу свободно
закрасить
вниз
кц
нц пока не снизу свободно
закрасить
влево
кц
нц пока снизу свободно
влево
кц
нц пока слева свободно
закрасить
влево
кц
нц пока не слева свободно
закрасить
вверх 
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_506.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_5_F_506 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_6_A_601(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-A (ID: 601)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется лестница. Сначала лестница 
     | слева направо спускается вниз, затем поднимается вверх. 
     | Высота каждой ступени - одна клетка, ширина - две клетки. 
     | Робот находится на первой ступеньке лестницы, в левой клетке. 
     | Количество ступеней, ведущих вниз, и количество ступеней, 
     | ведущих вверх, неизвестно.
надо | Закрасить все клетки, расположенные непосредственно над 
     | ступенями лестницы. 
нач
нц пока справа свободно
закрасить
вправо
закрасить
если справа свободно
то
вправо
вниз
все
кц 
нц пока не справа свободно
вверх
вправо
закрасить
вправо
закрасить
кц
кон
|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_601.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_6_A_601 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_6_B_602(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-B (ID: 602)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется лестница. Сначала лестница 
     | слева направо спускается вниз, затем поднимается вверх. 
     | Высота каждой ступени - одна клетка, ширина - две клетки. 
     | Робот находится над самой правой ступенькой лестницы, 
     | в правой клетке. Количество ступеней, ведущих вниз, 
     | и количество ступеней, ведущих вверх, неизвестно.
надо | Закрасить все клетки, расположенные непосредственно под 
     | ступенями лестницы. 
нач
вправо
вниз
влево
закрасить
влево
закрасить
нц пока не слева свободно
вниз
влево
закрасить
влево
закрасить
кц
влево
вверх
нц пока не справа свободно
закрасить
влево 
закрасить
влево
вверх
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_602.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_6_B_602 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_6_C_603(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-C (ID: 603)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется лестница. Сначала лестница 
     | слева направо спускается вниз, затем поднимается вверх. 
     | Высота каждой ступени - одна клетка, ширина - две клетки. 
     | Робот находится над самой правой ступенькой лестницы, 
     | в правой клетке. Количество ступеней, ведущих вниз, 
     | и количество ступеней, ведущих вверх, неизвестно.
надо | Закрасить все клетки, расположенные непосредственно под 
     | ступенями лестницы. 
нач
нц пока снизу свободно
вниз
влево
влево
кц
нц пока не слева свободно
закрасить
вправо
закрасить
вправо
вниз
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_603.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_6_C_603 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_6_D_604(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-D (ID: 604)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется лестница. Сначала лестница 
     | спускается вниз сплева направо, затем спускается вниз 
     | справа налево. Высота каждой ступени - одна клетка, 
     | ширина - две клетки. Робот находится слева от верхней 
     | ступени лестницы. Количество ступенек, ведущих вправо, 
     | и количество ступенек, ведущих влево, неизвестно.
надо | Закрасить все клетки, расположенные непосредственно под 
     | ступенями лестницы, спускающейся справа налево. 
нач
вверх
вправо
вниз
нц пока не снизу свободно
вправо
вправо
вниз
кц
нц пока не слева свободно
вниз
влево
закрасить
влево
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_604.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_6_D_604 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_6_E_605(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-E (ID: 605)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется лестница. Сначала лестница 
     | поднимается вверх слева направо, потом опускается вниз 
     | также слева направо. Правее спуска лестница переходит в 
     | горизонтальную стену. Высота каждой ступени — 1 клетка, 
     | ширина — 1 клетка. Количество ступенек, ведущих вверх, 
     | и количество ступенек, ведущих вниз, неизвестно. Между 
     | спуском и подъемом ширина площадки — 1 клетка. Робот 
     | находится в клетке, расположенной в начале подъёма.
надо | Закрасить все клетки, расположенные непосредственно над 
     | лестницей, и клетки, которые касаются углов лестницы. 
нач
нц пока не справа свободно
закрасить
вверх
закрасить
вправо
кц
закрасить
вправо
нц пока снизу свободно
закрасить
вниз
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_605.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_6_E_605 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_6_F_606(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 6-F (ID: 606)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется лестница. Сначала лестница 
     | спускается вниз слева направо, потом поднимается вверх 
     | также слева направо. Левее спуска и правее подъёма лестница  
     | переходит в горизонтальную стену. Высота каждой ступени — 1 клетка, 
     | ширина — 1 клетка. Количество ступенек, ведущих вверх, 
     | и количество ступенек, ведущих вниз, неизвестно. Между 
     | спуском и подъемом ширина площадки — 1 клетка. Робот 
     | находится в клетке, расположенной в конце подъёма.
надо | Закрасить все клетки, расположенные непосредственно над 
     | лестницей, и клетки, которые касаются углов лестницы. 
нач
нц пока слева свободно
влево
закрасить
вниз
закрасить
кц
вверх
влево
нц пока не слева свободно
закрасить
вверх
закрасить
влево
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_606.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_6_F_606 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_A_701(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-A (ID: 701)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются четыре стены, соединённые между 
     | собой, которые образуют прямоугольник. Длины стен неизвестны. 
     | В левой вертикальной стене есть ровно один проход. Проход 
     | не может примыкать к углу прямоугольника. Точное место 
     | и ширина прохода неизвестны. Робот находится около 
     | нижнего конца левой вертикальной стены, снаружи 
     | прямоугольника и выше нижней стены.
надо | Закрасить все клетки, расположенные внутри прямоугольника 
     | рядом со стенами и строки, которые примыкают к проходу. 
нач
нц пока не справа свободно
вверх
кц
вправо
вниз
нц пока справа свободно
вправо
закрасить
кц
нц пока слева свободно
влево
кц
нц пока снизу свободно
закрасить
вниз
кц
нц пока справа свободно
закрасить
вправо
кц
нц пока сверху свободно
закрасить
вверх
кц
нц пока слева свободно
закрасить
влево
кц
нц пока не слева свободно
закрасить
вниз
кц
вверх
нц пока справа свободно
вправо
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_701.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_A_701 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_B_702(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-B (ID: 702)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются четыре стены, соединённые между 
     | собой, которые образуют прямоугольник. Длины стен неизвестны. 
     | В правой вертикальной стене есть ровно один проход, в верхней 
     | горизонтальной стене также есть ровно один проход. Проход 
     | не может примыкать к углу прямоугольника. Точные места 
     | проходов и ширина проходов неизвестны. Робот находится около 
     | нижнего конца левой вертикальной стены, снаружи 
     | прямоугольника и выше нижней стены.
надо | Закрасить все клетки, расположенные вдоль стен прямоугольника 
     | с внешней стороны, включая угловые клетки. Проходы должны остаться незакрашенными. 
нач
нц пока не справа свободно
вниз
кц
вверх
нц пока не справа свободно
закрасить
вверх
кц
закрасить
вправо
нц пока не снизу свободно
закрасить
вправо
кц
нц пока снизу свободно
вправо
кц
нц пока не снизу свободно
закрасить
вправо
кц
закрасить
вниз
нц пока не слева свободно
закрасить
вниз
кц
нц пока слева свободно
вниз
кц
нц пока не слева свободно
закрасить
вниз
кц
закрасить
влево
нц пока не сверху свободно
закрасить
влево
кц
закрасить
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_702.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_B_702 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_C_703(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-C (ID: 703)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеются четыре стены, соединённые между 
     | собой, которые образуют прямоугольник. Длины стен неизвестны. 
     | В правой вертикальной стене есть ровно один проход, в верхней 
     | горизонтальной стене также есть ровно один проход. Проход 
     | не может примыкать к углу прямоугольника. Точные места 
     | проходов и ширина проходов неизвестны. Робот находится около 
     | нижнего конца левой вертикальной стены, снаружи 
     | прямоугольника и выше нижней стены.
надо | Закрасить все клетки, расположенные вдоль стен прямоугольника 
     | с внешней стороны, включая угловые клетки. Проходы должны остаться незакрашенными. 
нач
нц пока справа свободно
закрасить
вправо
кц
нц пока снизу свободно
закрасить
вниз
кц
закрасить
нц пока не снизу свободно
влево
кц
вниз
нц пока не справа свободно
закрасить
вниз
кц
закрасить
вправо
нц пока не сверху свободно
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_703.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_C_703 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_D_704(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-D (ID: 704)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется стена, состоящая из 5 последовательных 
     | отрезков, расположенных змейкой: вниз, вправо, вверх, вправо, 
     | вниз, все отрезки неизвестной длины. Робот находится в самой 
     | нижней клетке непосредственно справа от правой горизонтальной стены.
надо | Закрасить все клетки, расположенные справ от первого и выше 
     | второго отрезков стены и ниже четвёртого и слева от пятого 
     | отрезков стены. 
нач
вниз
влево
нц пока сверху свободно
вверх
закрасить
кц
нц пока слева свободно
влево
закрасить
кц
нц пока не слева свободно
вниз
кц
влево
нц пока не сверху свободно
влево
кц
вверх
нц пока не справа свободно
вверх
кц
вправо
нц пока снизу свободно
вниз
закрасить
кц
нц пока справа свободно
вправо
закрасить
кц 
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_704.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_D_704 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_E_705(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-E (ID: 705)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется две горизонтальные стены,
     | которные соединяются вертикальной стеной.
     | Робот находится в одной из клеток под нижней горизнтальной
     | стеной. Длины всех стен неизвестны.
надо | Закрасить все клетки, расположенные слева и справа от 
     | вертикальной стенки, над верхней горизонтальной стеной и 
     | под нижней горизонтальной стеной. 
нач
нц пока не сверху свободно
влево
кц
вправо
нц пока не сверху свободно
закрасить
вправо
кц
вверх
нц пока слева свободно
влево
кц
закрасить
нц пока сверху свободно
вверх
закрасить
кц
нц пока не сверху свободно
вправо
кц
вверх
влево
нц пока не снизу свободно
закрасить
влево
кц
вниз
нц пока справа свободно
вправо
кц
закрасить
нц пока снизу свободно
вниз
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_705.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_E_705 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_F_706(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-F (ID: 706)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | На бесконечном поле имеется две вертикальные стены,
     | которные соединяются горизонтальной стеной.
     | Робот находится в одной из клеток под вертикальной
     | стеной. Длины всех стен неизвестны.
надо | Закрасить все клетки, расположенные слева и справа от 
     | вертикальных стен. 
нач
нц пока слева свободно
влево
кц
нц пока не слева свободно
закрасить
вниз
кц
влево
вверх
нц пока не справа свободно
закрасить
вверх
кц
вправо
нц пока снизу свободно
вниз
закрасить
кц
нц пока справа свободно
вправо
кц
нц пока не справа свободно
закрасить
вверх
кц
вправо
вниз
нц пока не слева свободно
закрасить
вниз
кц
влево
нц пока сверху свободно
вверх
закрасить
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_706.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_F_706 выполнен. Вывод: {result.stdout_output[:100]}")


def test_robot9oge_7_G_707(run_kumir_code_func, tmp_path):
    """
    Тест для задачи: 7-G (ID: 707)
    Курс: robot9oge
    """
    kumir_code = '''использовать Робот
алг Миссия 
дано | (Н.Е. Леко) На бесконечном поле есть две горизонтальные стены,
     | расположенные друг под другом и отстоящие на расстояние,
     | равное одной клетке, и две вертикальные стены.
     | Левый конец верхней горизонтальной стены соединен с нижним
     | концом одной из вертикальных стен.
     | Правый конец нижней горизонтальной стены соединён с верхним
     | концом второй вертикальной стены. Длины стен неизвестны.
     | Робот находится в клетке, расположенной непосредственно слева
     | от верхнего края левой вертикальной стены.
надо | Закрасить все клетки, расположенные между 
     | двумя горизонтальными стенами (точно известно, что хотя бы
     | одна такая клетка есть). 
нач
нц пока справа стена
вниз
кц
вправо
нц пока снизу свободно
вправо
кц
нц пока сверху стена
закрасить
вправо
кц
кон

|#%%
алг цел @тестирование
нач
Миссия
цел x, y, ширина, высота
знач := 10
@@робот(x, y)
@@размер поля(ширина, высота)
нц для x от 1 до ширина
нц для y от 1 до высота
если @@метка(x, y) и не @@закрашена(x, y)
то
вывод "Задание не выполнено: не закрашена помеченная клетка.", нс
знач := 0
выход
все
если @@закрашена(x, y) и не @@метка(x, y)
то
вывод "Задание не выполнено: закрашена непомеченная клетка.", нс
знач := 0
выход
все
кц
если знач = 0
то
выход
все
кц
если знач = 10 то
вывод "Задание выполнено успешно."
все
кон'''
    
    # Записываем во временный файл
    test_file = tmp_path / "test_707.kum"
    with open(test_file, "w", encoding="utf-8") as f:
        f.write(kumir_code)
    
    # Запускаем интерпретатор
    result = run_kumir_code_func(str(test_file))
    
    # Проверяем, что код выполнился без ошибок
    assert result.return_code == 0, f"Код завершился с ошибкой: {result.stderr_output}"
      # TODO: Добавить проверку конкретного вывода для каждой задачи
    print(f"Тест test_robot9oge_7_G_707 выполнен. Вывод: {result.stdout_output[:100]}")

